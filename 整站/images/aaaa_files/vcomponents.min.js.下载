vue_utils=(function(){var a;var c;function b(e,f,g){this.$children.forEach(function(i){var h=i.$options.name;if(h===e){i.$emit.apply(i,[f].concat(g))}else{b.apply(i,[e,f].concat([g]))}})}function d(m,h,p,l,o){var k=window.getComputedStyle(h,null);var e=h.style;var j={width:parseInt(k.getPropertyValue("width")),height:parseInt(k.getPropertyValue("height")),padding:{top:parseInt(k.getPropertyValue("padding-top")),right:parseInt(k.getPropertyValue("padding-right")),bot:parseInt(k.getPropertyValue("padding-bottom")),left:parseInt(k.getPropertyValue("padding-left"))},margin:{top:parseInt(k.getPropertyValue("margin-top")),right:parseInt(k.getPropertyValue("margin-right")),bot:parseInt(k.getPropertyValue("margin-bottom")),left:parseInt(k.getPropertyValue("margin-left"))}};var g={width:(p.width!=null)?(p.width-j.width):0,height:(p.height!=null)?(p.height-j.height):0,padding:{top:(p.padding&&p.padding["top"]!=null)?p.padding["top"]-j.padding["top"]:0,right:(p.padding&&p.padding["right"]!=null)?p.padding["right"]-j.padding["right"]:0,bot:(p.padding&&p.padding["bot"]!=null)?p.padding["bot"]-j.padding["bot"]:0,left:(p.padding&&p.padding["left"]!=null)?p.padding["left"]-j.padding["left"]:0},margin:{top:(p.margin&&p.margin["top"]!=null)?p.margin["top"]-j.margin["top"]:0,right:(p.margin&&p.margin["right"]!=null)?p.margin["right"]-j.margin["right"]:0,bot:(p.margin&&p.margin["bot"]!=null)?p.margin["bot"]-j.margin["bot"]:0,left:(p.margin&&p.margin["left"]!=null)?p.margin["left"]-j.margin["left"]:0}};var f=new Date().getTime();var n;var i;l=(l!=null)?l:250;e.overflow="hidden";clearInterval(m);m=setInterval(function(){n=new Date().getTime()-f;if(n<l){i=n/l;e.width=(j.width+g.width*i)+"px";e.height=(j.height+g.height*i)+"px";e.padding=(j.padding["top"]+g.padding["top"]*i)+"px "+(j.padding["right"]+g.padding["right"]*i)+"px "+(j.padding["bot"]+g.padding["bot"]*i)+"px "+(j.padding["left"]+g.padding["left"]*i)+"px";e.margin=(j.margin["top"]+g.margin["top"]*i)+"px "+(j.margin["right"]+g.margin["right"]*i)+"px "+(j.margin["bot"]+g.margin["bot"]*i)+"px "+(j.margin["left"]+g.margin["left"]*i)+"px"}else{e.width=p.width+"px";e.height=p.height+"px";e.padding=(j.padding["top"]+g.padding["top"])+"px "+(j.padding["right"]+g.padding["right"])+"px "+(j.padding["bot"]+g.padding["bot"])+"px "+(j.padding["left"]+g.padding["left"])+"px";e.margin=(j.margin["top"]+g.margin["top"])+"px "+(j.margin["right"]+g.margin["right"])+"px "+(j.margin["bot"]+g.margin["bot"])+"px "+(j.margin["left"]+g.margin["left"])+"px";clearInterval(m);if(o!=null){o(j)}}},15)}a={dispatch:function(h,e,f,j){var i=h.$parent||h.$root;var g=i.$options.name;while(i&&(!g||g!==e)){i=i.$parent;if(i){g=i.$options.name}}if(i){i.$emit.apply(i,[f].concat(j))}},broadcast:function(g,e,f,h){b.call(g,e,f,h)},findComponentUpward:function(g,e,i){if(typeof e==="string"){i=[e]}else{i=e}var h=g.$parent;var f=h.$options.name;while(h&&(!f||i.indexOf(f)<0)){h=h.$parent;if(h){f=h.$options.name}}return h},findComponentsDownward:function(f,e,g){var g=g||[];var h=f.$children;if(h.length){h.forEach(function(l){var i=l.$options.name;var k=l.$children;if(i===e){g.push(l)}if(k.length){var j=a.findComponentsDownward(l,e,g);if(j){g.concat(j)}}})}return g},oneOf:function(g,f){for(var e=0;e<f.length;e++){if(g===f[e]){return true}}return false},camelCase:function(f){var e=/-(\w)/g;return f.replace(e,function(h,g){return g.toUpperCase()})},getStyle:function(g,f){if(!g||!f){return null}f=a.camelCase(f);if(f==="float"){f="cssFloat"}try{var h=document.defaultView.getComputedStyle(g,"");return g.style[f]||h?h[f]:null}catch(i){return g.style[f]}},setStyle:function(g,f,h){if(!g.length||!f){return null}f=a.camelCase(f);if(f==="float"){f="cssFloat"}for(var e=0;e<g.length;e++){g[e].style[f]=h}},isValueNumber:function(e){return(/^[1-9][0-9]*$/).test(e+"")},scrollbarWidth:(function(){var f;return function e(){if(f!==undefined){return f}var j=document.createElement("div");j.className="jz-scrollbar-wrap";j.style.visibility="hidden";j.style.width="100px";j.style.position="absolute";j.style.top="-9999px";document.body.appendChild(j);var h=j.offsetWidth;j.style.overflow="scroll";var g=document.createElement("div");g.style.width="100%";j.appendChild(g);var i=g.offsetWidth;j.parentNode.removeChild(j);f=h-i;return f}})(),off:function(e,g,f){if(e&&g){e.removeEventListener(g,f,false)}},on:function(e,g,f){if(e&&g&&f){e.addEventListener(g,f,false)}},throttle:function(f,g){var e=0;g=g||200;return function(){var h=+new Date();if(h-e>g){f.apply(this,arguments);e=h}}},debounce:function(f,e){var g=null;e=e||40;return function(){var i=this,h=arguments;clearTimeout(g);g=setTimeout(function(){f.apply(i,h)},e)}},initDefaultProps:function(h,e){var f,g,i;for(f in e){if(typeof h[f]=="object"){h[f]=h[f]}else{if(typeof h[f]=="function"){h[f]={type:h[f]}}else{if(!h[f]){h[f]={}}}}h[f]["default"]=e[f]}return h},typeOf:function(g){var f=Object.prototype.toString;var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return e[f.call(g)]},deepCopy:function(g){var f=a.typeOf(g);var h;if(f==="array"){h=[]}else{if(f==="object"){h={}}else{return g}}if(f==="array"){for(var e=0;e<g.length;e++){h.push(a.deepCopy(g[e]))}}else{if(f==="object"){for(var e in g){h[e]=a.deepCopy(g[e])}}}return h},stringToIntArray:function(e){return e.map(function(f){return +f})},trim:function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},addClass:function(k,e){if(!k){return}var m=k.className;var h=(e||"").split(" ");for(var g=0,f=h.length;g<f;g++){var l=h[g];if(!l){continue}if(k.classList){k.classList.add(l)}else{if(!hasClass(k,l)){m+=" "+l}}}if(!k.classList){k.className=m}},removeClass:function(k,e){if(!k||!e){return}var h=e.split(" ");var m=" "+k.className+" ";for(var g=0,f=h.length;g<f;g++){var l=h[g];if(!l){continue}if(k.classList){k.classList.remove(l)}else{if(hasClass(k,l)){m=m.replace(" "+l+" "," ")}}}if(!k.classList){k.className=a.trim(m)}},isNull:function(e){return(typeof e=="undefined")||(e==null)},Img:{MODE_SCALE_FILL:1,MODE_SCALE_WIDTH:2,MODE_SCALE_HEIGHT:3,MODE_SCALE_DEFLATE_WIDTH:4,MODE_SCALE_DEFLATE_HEIGHT:5,MODE_SCALE_DEFLATE_FILL:6,MODE_SCALE_DEFLATE_MAX:7},calcSize:function(i,e,k,j,l){var g={width:i,height:e};if(l==a.Img.MODE_SCALE_FILL){var h=i/k;var f=e/j;if(h>f){g.width=k;g.height=e/h}else{g.width=i/f;g.height=j}}else{if(l==a.Img.MODE_SCALE_WIDTH){var h=i/k;g.width=k;g.height=e/h}else{if(l==a.Img.MODE_SCALE_HEIGHT){var f=e/j;g.width=i/f;g.height=j}else{if(l==a.Img.MODE_SCALE_DEFLATE_WIDTH){var h=i/k;if(h>1){g.width=k;g.height=e/h}}else{if(l==a.Img.MODE_SCALE_DEFLATE_HEIGHT){var f=e/j;if(f>1){g.width=i/f;g.height=j}}else{if(l==a.Img.MODE_SCALE_DEFLATE_FILL){var h=i/k;var f=e/j;if(h>f){if(h>1){g.width=k;g.height=e/h}}else{if(f>1){g.width=i/f;g.height=j}}}else{if(l==a.Img.MODE_SCALE_DEFLATE_MAX){if(i>k&&e>j){var h=i/k;var f=e/j;if(h<f){g.width=k;g.height=e/h}else{g.width=i/f;g.height=j}}}}}}}}}g.width=Math.floor(g.width);g.height=Math.floor(g.height);if(g.width==0){g.width=1}if(g.height==0){g.height=1}return g},optimize:function(h,j){var f=new Image();f.src=h.src;var g=f.width;var e=f.height;if(a.isNull(g)||g==0||a.isNull(e)||e==0){g=h.width;e=h.height}var i=a.calcSize(g,e,j.width,j.height,j.mode);h.width=i.width;h.height=i.height;if(j.display==1){h.style.display="inline"}else{if(j.display==2){h.style.display="none"}else{if(j.display==3){h.style.display="inline-block"}else{h.style.display="block"}}}return{width:h.width,height:h.height}},slideUp:function(f,h,i){var g;var e={height:0,padding:{top:0,bot:0},margin:{top:0,bot:0}};d(g,f,e,h,function(j){var k=f.style;k.width="";k.height="";k.padding="";k.margin="";f.style.display="none";if(i){i()}})},slideDown:function(h,j,k){var g;var i=h.style;var f=window.getComputedStyle(h,null);i.display="block";var e={width:parseInt(f.getPropertyValue("width")),height:parseInt(f.getPropertyValue("height")),padding:{top:parseInt(f.getPropertyValue("padding-top")),bot:parseInt(f.getPropertyValue("padding-bottom"))},margin:{top:parseInt(f.getPropertyValue("margin-top")),bot:parseInt(f.getPropertyValue("margin-bottom"))}};i.height="0";i.paddingTop="0";i.paddingBottom="0";i.marginTop="0";i.marginBottom="0";d(g,h,e,j,function(){i.width="";i.height="";i.padding="";i.margin="";h.style.display="block";if(k){k()}})},isUndef:function(e){return e===undefined||e===null},isDef:function(e){return e!==undefined&&e!==null}};return a})();(function(b,a,c){Vue.directive("clickoutside",{bind:function(d,f,g){function e(h){if(d.contains(h.target)){return false}if(f.expression){f.value(h)}}d.__vueClickOutside__=e;a.addEventListener("click",e)},unbind:function(d,e){a.removeEventListener("click",d.__vueClickOutside__);delete d.__vueClickOutside__}});Vue.directive("resize",{inserted:function(d,e){b.ResizeSensor(d,e.value)},update:function(f,h){var g=f.offsetWidth===0&&f.offsetHeight===0;if(!g){var e=f.resizeSensor.childNodes[0];var d=f.resizeSensor.childNodes[1];if(e.scrollTop===0&&d.scrollTop===0){b.ResizeSensor.reset(f)}}},unbind:function(d,e){b.ResizeSensor.detach(d)}});Vue.directive("undo",{})}(window,document));(function(){var e=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol==="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};var d=Object.assign;function c(g){if(Array.isArray(g)){for(var j=0,h=Array(g.length);j<g.length;j++){h[j]=g[j]}return h}else{return[].slice.call(g)}}function f(g){function m(V){V.parentElement.removeChild(V)}function F(Y,X,V){var W=V===0?Y.children[0]:Y.children[V-1].nextSibling;Y.insertBefore(X,W)}function j(W,V){return W.map(function(X){return X.elm}).indexOf(V)}function w(W,V,Y){if(!W){return[]}var Z=W.map(function(aa){return aa.elm});var X=[].concat(c(V)).map(function(aa){return Z.indexOf(aa)});return Y?X.filter(function(aa){return aa!==-1}):X}function u(W,V){var X=this;this.$nextTick(function(){return X.$emit(W.toLowerCase(),V)})}function k(W){var V=this;return function(X){if(V.realList!==null){V["onDrag"+W](X)}u.call(V,W,X)}}var B=["Start","Add","Remove","Update","End"];var t=["Choose","Sort","Filter","Clone"];var y=["Move"].concat(B,t).map(function(V){return"on"+V});var M=null;var E=vue_utils.initDefaultProps({options:Object,list:{type:Array,required:false},value:{type:Array,required:false},noTransitionOnDrag:{type:Boolean},clone:{type:Function},element:{type:String},move:{type:Function}},{list:null,value:null,noTransitionOnDrag:false,clone:function K(V){return V},element:"div",move:null});var l={name:"draggable",props:E,data:function S(){return{transitionMode:false,componentMode:false}},render:function H(X){var W=this.$slots["default"];if(W&&W.length===1){var Z=W[0];if(Z.componentOptions&&Z.componentOptions.tag==="transition-group"){this.transitionMode=true}}var V=W;var Y=this.$slots.footer;if(Y){V=W?[].concat(c(W),c(Y)):[].concat(c(Y))}return X(this.element,null,V)},mounted:function o(){var W=this;this.componentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase();if(this.componentMode&&this.transitionMode){throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element)}var X={};B.forEach(function(Z){X["on"+Z]=k.call(W,Z)});t.forEach(function(Z){X["on"+Z]=u.bind(W,Z)});var V=d({},this.options,X,{onMove:function Y(aa,Z){return W.onDragMove(aa,Z)}});!("draggable" in V)&&(V.draggable=">*");this._sortable=new g(this.rootContainer,V);this.computeIndexes()},beforeDestroy:function Q(){this._sortable.destroy()},computed:{rootContainer:function r(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function p(){return !!this.options&&!!this.options.group&&this.options.group.pull==="clone"},realList:function T(){return !!this.list?this.list:this.value}},watch:{options:{handler:function I(V){for(var W in V){if(y.indexOf(W)==-1){this._sortable.option(W,V[W])}}},deep:true},realList:function T(){this.computeIndexes()}},methods:{getChildrenNodes:function J(){if(this.componentMode){return this.$children[0].$slots["default"]}var V=this.$slots["default"];return this.transitionMode?V[0].child.$slots["default"]:V},computeIndexes:function n(){var V=this;this.$nextTick(function(){V.visibleIndexes=w(V.getChildrenNodes(),V.rootContainer.children,V.transitionMode)})},getUnderlyingVm:function D(W){var V=j(this.getChildrenNodes()||[],W);if(V===-1){return null}var X=this.realList[V];return{index:V,element:X}},getUnderlyingPotencialDraggableComponent:function N(W){var V=W.__vue__;if(!V||!V.$options||V.$options._componentTag!=="transition-group"){return V}return V.$parent},emitChanges:function P(V){var W=this;this.$nextTick(function(){W.$emit("change",V)})},alterList:function q(W){if(!!this.list){W(this.list)}else{var V=[].concat(c(this.value));W(V);this.$emit("input",V)}},spliceList:function h(){var W=arguments;var V=function V(X){return X.splice.apply(X,W)};this.alterList(V)},updatePosition:function A(X,V){var W=function W(Y){return Y.splice(V,0,Y.splice(X,1)[0])};this.alterList(W)},getRelatedContextFromMoveEvent:function R(ab){var aa=ab.to,Z=ab.related;var W=this.getUnderlyingPotencialDraggableComponent(aa);if(!W){return{component:W}}var Y=W.realList;var X={list:Y,component:W};if(aa!==Z&&Y&&W.getUnderlyingVm){var V=W.getUnderlyingVm(Z);if(V){return d(V,X)}}return X},getVmIndex:function s(V){var W=this.visibleIndexes;var X=W.length;return V>X-1?X:W[V]},getComponent:function U(){return this.$slots["default"][0].componentInstance},resetTransitionData:function i(X){if(!this.noTransitionOnDrag||!this.transitionMode){return}var V=this.getChildrenNodes();V[X].data=null;var W=this.getComponent();W.children=[];W.kept=undefined},onDragStart:function O(V){this.context=this.getUnderlyingVm(V.item);V.item._underlying_vm_=this.clone(this.context.element);M=V.item},onDragAdd:function z(V){var X=V.item._underlying_vm_;if(X===undefined){return}m(V.item);var W=this.getVmIndex(V.newIndex);this.spliceList(W,0,X);this.computeIndexes();var Y={element:X,newIndex:W};this.emitChanges({added:Y})},onDragRemove:function v(V){F(this.rootContainer,V.item,V.oldIndex);if(this.isCloning){m(V.clone);return}var X=this.context.index;this.spliceList(X,1);var W={element:this.context.element,oldIndex:X};this.resetTransitionData(X);this.emitChanges({removed:W})},onDragUpdate:function C(V){m(V.item);F(V.from,V.item,V.oldIndex);var Y=this.context.index;var W=this.getVmIndex(V.newIndex);this.updatePosition(Y,W);var X={element:this.context.element,oldIndex:Y,newIndex:W};this.emitChanges({moved:X})},computeFutureIndex:function x(aa,W){if(!aa.element){return 0}var X=[].concat(c(W.to.children)).filter(function(ab){return ab.style.display!=="none"});var Y=X.indexOf(W.related);var V=aa.component.getVmIndex(Y);var Z=X.indexOf(M)!=-1;return Z||!W.willInsertAfter?V:V+1},onDragMove:function G(X,W){var aa=this.move;if(!aa||!this.realList){return true}var Z=this.getRelatedContextFromMoveEvent(X);var V=this.context;var Y=this.computeFutureIndex(Z,X);d(V,{futureIndex:Y});d(X,{relatedContext:Z,draggedContext:V});return aa(X,W)},onDragEnd:function L(V){this.computeIndexes();M=null}}};return l}if((typeof exports==="undefined"?"undefined":e(exports))=="object"){var b=require("sortablejs");module.exports=f(b)}else{if(typeof define=="function"&&define.amd){define(["sortablejs"],function(g){return f(g)})}else{if(window&&window.Vue&&window.Sortable){var a=f(window.Sortable);Vue.component("draggable",a)}else{if(typeof window.Vue=="undefined"){}if(typeof window.Sortable=="undefined"){}}}}})();
/*!
 * Vue-Lazyload.js v1.2.5
 * (c) 2018 Awe <hilongjw@gmail.com>
 * https://github.com/hilongjw/vue-lazyload
 * Released under the MIT License.
 */
!function(c,d){"object"==typeof exports&&"undefined"!=typeof module?module.exports=d():"function"==typeof define&&define.amd?define(d):c.VueLazyload=d()}(this,function(){function T(q){return q.constructor&&"function"==typeof q.constructor.isBuffer&&q.constructor.isBuffer(q)}function p(J){J=J||{};var q=arguments.length,F=0;if(1===q){return J}for(;++F<q;){var G=arguments[F];W(J)&&(J=G),n(G)&&j(J,G)}return J}function j(J,F){h(J,F);for(var G in F){if("__proto__"!==G&&c(F,G)){var q=F[G];n(q)?("undefined"===a(J[G])&&"function"===a(q)&&(J[G]=q),J[G]=p(J[G]||{},q)):J[G]=q}}return J}function n(q){return"object"===a(q)||"function"===a(q)}function c(q,F){return Object.prototype.hasOwnProperty.call(q,F)}function k(q,F){if(q.length){var G=q.indexOf(F);return G>-1?q.splice(G,1):void 0}}function O(J,q){for(var G=!1,K=0,F=J.length;K<F;K++){if(q(J[K])){G=!0;break}}return G}function o(q,X){if("IMG"===q.tagName&&q.getAttribute("data-srcset")){var P=q.getAttribute("data-srcset"),Z=[],J=q.parentNode,U=J.offsetWidth*X,ac=void 0,F=void 0,Y=void 0;P=P.trim().split(","),P.map(function(af){af=af.trim(),ac=af.lastIndexOf(" "),-1===ac?(F=af,Y=999998):(F=af.substr(0,ac),Y=parseInt(af.substr(ac+1,af.length-ac-2),10)),Z.push([Y,F])}),Z.sort(function(ag,af){if(ag[0]<af[0]){return -1}if(ag[0]>af[0]){return 1}if(ag[0]===af[0]){if(-1!==af[1].indexOf(".webp",af[1].length-5)){return 1}if(-1!==ag[1].indexOf(".webp",ag[1].length-5)){return -1}}return 0});for(var K="",ae=void 0,ad=Z.length,G=0;G<ad;G++){if(ae=Z[G],ae[0]>=U){K=ae[1];break}}return K}}function r(J,q){for(var G=void 0,K=0,F=J.length;K<F;K++){if(q(J[K])){G=J[K];break}}return G}function g(){if(!C){return !1}var q=!0,F=document;try{var G=F.createElement("object");G.type="image/webp",G.style.visibility="hidden",G.innerHTML="!",F.body.appendChild(G),q=!G.offsetWidth,F.body.removeChild(G)}catch(F){q=!1}return q}function S(J,F){var G=null,q=0;return function(){if(!G){var U=Date.now()-q,K=this,X=arguments,P=function(){q=Date.now(),G=!1,J.apply(K,X)};U>=F?P():G=setTimeout(P,F)}}}function R(q){return null!==q&&"object"===(void 0===q?"undefined":l(q))}function aa(q){if(!(q instanceof Object)){return[]}if(Object.keys){return Object.keys(q)}var F=[];for(var G in q){q.hasOwnProperty(G)&&F.push(G)}return F}function V(J){for(var F=J.length,G=[],q=0;q<F;q++){G.push(J[q])}return G}function s(){}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},Q=function(q,F){if(!(q instanceof F)){throw new TypeError("Cannot call a class as a function")}},x=function(){function q(J,F){for(var G=0;G<F.length;G++){var K=F[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value" in K&&(K.writable=!0),Object.defineProperty(J,K.key,K)}}return function(F,G,J){return G&&q(F.prototype,G),J&&q(F,J),F}}(),W=function(q){return null==q||"function"!=typeof q&&"object"!==(void 0===q?"undefined":l(q))},h=function(K,F){if(null===K||void 0===K){throw new TypeError("expected first argument to be an object.")}if(void 0===F||"undefined"==typeof Symbol){return K}if("function"!=typeof Object.getOwnPropertySymbols){return K}for(var X=Object.prototype.propertyIsEnumerable,Z=Object(K),P=arguments.length,Y=0;++Y<P;){for(var J=Object(arguments[Y]),q=Object.getOwnPropertySymbols(J),G=0;G<q.length;G++){var U=q[G];X.call(J,U)&&(Z[U]=J[U])}}return Z},u=Object.prototype.toString,a=function(F){var q=void 0===F?"undefined":l(F);return"undefined"===q?"undefined":null===F?"null":!0===F||!1===F||F instanceof Boolean?"boolean":"string"===q||F instanceof String?"string":"number"===q||F instanceof Number?"number":"function"===q||F instanceof Function?void 0!==F.constructor.name&&"Generator"===F.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(F)?"array":F instanceof RegExp?"regexp":F instanceof Date?"date":(q=u.call(F),"[object RegExp]"===q?"regexp":"[object Date]"===q?"date":"[object Arguments]"===q?"arguments":"[object Error]"===q?"error":"[object Promise]"===q?"promise":T(F)?"buffer":"[object Set]"===q?"set":"[object WeakSet]"===q?"weakset":"[object Map]"===q?"map":"[object WeakMap]"===q?"weakmap":"[object Symbol]"===q?"symbol":"[object Map Iterator]"===q?"mapiterator":"[object Set Iterator]"===q?"setiterator":"[object String Iterator]"===q?"stringiterator":"[object Array Iterator]"===q?"arrayiterator":"[object Int8Array]"===q?"int8array":"[object Uint8Array]"===q?"uint8array":"[object Uint8ClampedArray]"===q?"uint8clampedarray":"[object Int16Array]"===q?"int16array":"[object Uint16Array]"===q?"uint16array":"[object Int32Array]"===q?"int32array":"[object Uint32Array]"===q?"uint32array":"[object Float32Array]"===q?"float32array":"[object Float64Array]"===q?"float64array":"object")},N=p,C="undefined"!=typeof window,f=C&&"IntersectionObserver" in window,I={event:"event",observer:"observer"},e=function(){function q(J,F){F=F||{bubbles:!1,cancelable:!1,detail:void 0};var G=document.createEvent("CustomEvent");return G.initCustomEvent(J,F.bubbles,F.cancelable,F.detail),G}if(C){return"function"==typeof window.CustomEvent?window.CustomEvent:(q.prototype=window.Event.prototype,q)}}(),y=function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return C?window.devicePixelRatio||q:q},A=function(){if(C){var q=!1;try{var F=Object.defineProperty({},"passive",{get:function(){q=!0}});window.addEventListener("test",null,F)}catch(q){}return q}}(),i={on:function(J,F,G){var q=arguments.length>3&&void 0!==arguments[3]&&arguments[3];A?J.addEventListener(F,G,{capture:q,passive:!0}):J.addEventListener(F,G,q)},off:function(J,F,G){var q=arguments.length>3&&void 0!==arguments[3]&&arguments[3];J.removeEventListener(F,G,q)}},M=function(J,F,G){var q=new Image;q.src=J.src,q.onload=function(){F({naturalHeight:q.naturalHeight,naturalWidth:q.naturalWidth,src:q.src})},q.onerror=function(K){G(K)}},v=function(q,F){return"undefined"!=typeof getComputedStyle?getComputedStyle(q,null).getPropertyValue(F):q.style[F]},w=function(q){return v(q,"overflow")+v(q,"overflow-y")+v(q,"overflow-x")},z=function(q){if(C){if(!(q instanceof HTMLElement)){return window}for(var F=q;F&&F!==document.body&&F!==document.documentElement&&F.parentNode;){if(/(scroll|auto)/.test(w(F))){return F}F=F.parentNode}return window}},L={},m=function(){function q(G){var X=G.el,Z=G.src,P=G.error,Y=G.loading,K=G.bindType,F=G.$parent,J=G.options,U=G.elRenderer;Q(this,q),this.el=X,this.src=Z,this.error=P,this.loading=Y,this.bindType=K,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=J,this.rect=null,this.$parent=F,this.elRenderer=U,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return x(q,[{key:"initState",value:function(){"dataset" in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(F){this.performanceData[F]=Date.now()}},{key:"update",value:function(J){var P=J.src,G=J.loading,K=J.error,F=this.src;this.src=P,this.loading=G,this.error=K,this.filter(),F!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var F=this;aa(this.options.filter).map(function(G){F.options.filter[G](F,F.options)})}},{key:"renderLoading",value:function(G){var F=this;M({src:this.loading},function(J){F.render("loading",!1),G()},function(){G(),F.options.silent||console.warn("VueLazyload log: load failed with loading image("+F.loading+")")})}},{key:"load",value:function(){var G=this,F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void F()):this.state.loaded||L[this.src]?(this.state.loaded=!0,F(),this.render("loaded",!0)):void this.renderLoading(function(){G.attempt++,G.record("loadStart"),M({src:G.src},function(J){G.naturalHeight=J.naturalHeight,G.naturalWidth=J.naturalWidth,G.state.loaded=!0,G.state.error=!1,G.record("loadEnd"),G.render("loaded",!1),L[G.src]=1,F()},function(J){!G.options.silent&&console.error(J),G.state.error=!0,G.state.loaded=!1,G.render("error",!1)})})}},{key:"render",value:function(G,F){this.elRenderer(this,G,F)}},{key:"performance",value:function(){var G="loading",F=0;return this.state.loaded&&(G="loaded",F=(this.performanceData.loadEnd-this.performanceData.loadStart)/1000),this.state.error&&(G="error"),{src:this.src,state:G,time:F}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),q}(),E="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],ab={rootMargin:"0px",threshold:0},H=function(q){return function(){function F(K){var U=K.preLoad,Z=K.error,ag=K.throttleWait,X=K.preLoadTop,aj=K.dispatchEvent,ad=K.loading,af=K.attempt,J=K.silent,ae=void 0===J||J,P=K.scale,ah=K.listenEvents,Y=(K.hasbind,K.filter),G=K.adapter,ac=K.observer,ai=K.observerOptions;Q(this,F),this.version="1.2.5",this.mode=I.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:ae,dispatchEvent:!!aj,throttleWait:ag||200,preLoad:U||1.3,preLoadTop:X||0,error:Z||E,loading:ad||E,attempt:af||3,scale:P||y(P),ListenEvents:ah||t,hasbind:!1,supportWebp:g(),filter:Y||{},adapter:G||{},observer:!!ac,observerOptions:ai||ab},this._initEvent(),this.lazyLoadHandler=S(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?I.observer:I.event)}return x(F,[{key:"config",value:function(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N(this.options,G)}},{key:"performance",value:function(){var G=[];return this.ListenerQueue.map(function(J){G.push(J.performance())}),G}},{key:"addLazyBox",value:function(G){this.ListenerQueue.push(G),C&&(this._addListenerTarget(window),this._observer&&this._observer.observe(G.el),G.$el&&G.$el.parentNode&&this._addListenerTarget(G.$el.parentNode))}},{key:"add",value:function(U,G,P){var X=this;if(O(this.ListenerQueue,function(ac){return ac.el===U})){return this.update(U,G),q.nextTick(this.lazyLoadHandler)}var J=this._valueFormatter(G.value),Y=J.src,Z=J.loading,K=J.error;q.nextTick(function(){Y=o(U,X.options.scale)||Y,X._observer&&X._observer.observe(U);var ad=Object.keys(G.modifiers)[0],ae=void 0;ad&&(ae=P.context.$refs[ad],ae=ae?ae.$el||ae:document.getElementById(ad)),ae||(ae=z(U));var ac=new m({bindType:G.arg,$parent:ae,el:U,loading:Z,error:K,src:Y,elRenderer:X._elRenderer.bind(X),options:X.options});X.ListenerQueue.push(ac),C&&(X._addListenerTarget(window),X._addListenerTarget(ae)),X.lazyLoadHandler(),q.nextTick(function(){return X.lazyLoadHandler()})})}},{key:"update",value:function(U,G){var P=this,X=this._valueFormatter(G.value),J=X.src,Y=X.loading,Z=X.error;J=o(U,this.options.scale)||J;var K=r(this.ListenerQueue,function(ac){return ac.el===U});K&&K.update({src:J,loading:Y,error:Z}),this._observer&&(this._observer.unobserve(U),this._observer.observe(U)),this.lazyLoadHandler(),q.nextTick(function(){return P.lazyLoadHandler()})}},{key:"remove",value:function(G){if(G){this._observer&&this._observer.unobserve(G);var J=r(this.ListenerQueue,function(K){return K.el===G});J&&(this._removeListenerTarget(J.$parent),this._removeListenerTarget(window),k(this.ListenerQueue,J)&&J.destroy())}}},{key:"removeComponent",value:function(G){G&&(k(this.ListenerQueue,G),this._observer&&this._observer.unobserve(G.el),G.$parent&&G.$el.parentNode&&this._removeListenerTarget(G.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(G){var J=this;f||G!==I.observer||(G=I.event),this.mode=G,G===I.event?(this._observer&&(this.ListenerQueue.forEach(function(K){J._observer.unobserve(K.el)}),this._observer=null),this.TargetQueue.forEach(function(K){J._initListen(K.el,!0)})):(this.TargetQueue.forEach(function(K){J._initListen(K.el,!1)}),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(G){if(G){var J=r(this.TargetQueue,function(K){return K.el===G});return J?J.childrenCount++:(J={el:G,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===I.event&&this._initListen(J.el,!0),this.TargetQueue.push(J)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(G){var J=this;this.TargetQueue.forEach(function(K,P){K.el===G&&(--K.childrenCount||(J._initListen(K.el,!1),J.TargetQueue.splice(P,1),K=null))})}},{key:"_initListen",value:function(J,K){var G=this;this.options.ListenEvents.forEach(function(P){return i[K?"on":"off"](J,P,G.lazyLoadHandler)})}},{key:"_initEvent",value:function(){var G=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(K,J){G.Event.listeners[K].push(J)},this.$once=function(P,J){function K(){U.$off(P,K),J.apply(U,arguments)}var U=G;G.$on(P,K)},this.$off=function(K,J){if(!J){return void (G.Event.listeners[K]=[])}k(G.Event.listeners[K],J)},this.$emit=function(P,J,K){G.Event.listeners[P].forEach(function(U){return U(J,K)})}}},{key:"_lazyLoadHandler",value:function(){var G=this,J=!1;this.ListenerQueue.forEach(function(K,P){if(!K.state.error&&K.state.loaded){return void G.ListenerQueue.splice(P,1)}(J=K.checkInView())&&K.load()})}},{key:"_initIntersectionObserver",value:function(){var G=this;f&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(function(J){G._observer.observe(J.el)}))}},{key:"_observerHandler",value:function(J,K){var G=this;J.forEach(function(P){P.isIntersecting&&G.ListenerQueue.forEach(function(U){if(U.el===P.target){if(U.state.loaded){return G._observer.unobserve(U.el)}U.load()}})})}},{key:"_elRenderer",value:function(K,U,G){if(K.el){var P=K.el,X=K.bindType,J=void 0;switch(U){case"loading":J=K.loading;break;case"error":J=K.error;break;default:J=K.src}if(X?P.style[X]='url("'+J+'")':P.getAttribute("src")!==J&&P.setAttribute("src",J),P.setAttribute("lazy",U),this.$emit(U,K,G),this.options.adapter[U]&&this.options.adapter[U](K,this.options),this.options.dispatchEvent){var Y=new e(U,{detail:K});P.dispatchEvent(Y)}}}},{key:"_valueFormatter",value:function(J){var P=J,G=this.options.loading,K=this.options.error;return R(J)&&(J.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+J),P=J.src,G=J.loading||this.options.loading,K=J.error||this.options.error),{src:P,loading:G,error:K}}}]),F}()},D=function(q){return{props:{tag:{type:String,"default":"div"}},render:function(F){return !1===this.show?F(this.tag):F(this.tag,null,this.$slots["default"])},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,q.addLazyBox(this),q.lazyLoadHandler()},beforeDestroy:function(){q.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),C&&this.rect.top<window.innerHeight*q.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*q.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}},B=function(){function q(F){var G=F.lazy;Q(this,q),this.lazy=G,G.lazyContainerMananger=this,this._queue=[]}return x(q,[{key:"bind",value:function(J,F,G){var K=new d({el:J,binding:F,vnode:G,lazy:this.lazy});this._queue.push(K)}},{key:"update",value:function(J,F,G){var K=r(this._queue,function(P){return P.el===J});K&&K.update({el:J,binding:F,vnode:G})}},{key:"unbind",value:function(J,F,G){var K=r(this._queue,function(P){return P.el===J});K&&(K.clear(),k(this._queue,K))}}]),q}(),b={selector:"img"},d=function(){function q(P){var G=P.el,K=P.binding,F=P.vnode,J=P.lazy;Q(this,q),this.el=null,this.vnode=F,this.binding=K,this.options={},this.lazy=J,this._queue=[],this.update({el:G,binding:K})}return x(q,[{key:"update",value:function(J){var F=this,G=J.el,K=J.binding;this.el=G,this.options=N({},b,K.value),this.getImgs().forEach(function(P){F.lazy.add(P,N({},F.binding,{value:{src:"dataset" in P?P.dataset.src:P.getAttribute("data-src"),error:"dataset" in P?P.dataset.error:P.getAttribute("data-error"),loading:"dataset" in P?P.dataset.loading:P.getAttribute("data-loading")}}),F.vnode)})}},{key:"getImgs",value:function(){return V(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var F=this;this.getImgs().forEach(function(G){return F.lazy.remove(G)}),this.vnode=null,this.binding=null,this.lazy=null}}]),q}();return{install:function(K){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=H(K),P=new G(q),F=new B({lazy:P}),J="2"===K.version.split(".")[0];K.prototype.$Lazyload=P,q.lazyComponent&&K.component("lazy-component",D(P)),J?(K.directive("lazy",{bind:P.add.bind(P),update:P.update.bind(P),componentUpdated:P.lazyLoadHandler.bind(P),unbind:P.remove.bind(P)}),K.directive("lazy-container",{bind:F.bind.bind(F),update:F.update.bind(F),unbind:F.unbind.bind(F)})):(K.directive("lazy",{bind:P.lazyLoadHandler.bind(P),update:function(U,X){N(this.vm.$refs,this.vm.$els),P.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:U,oldValue:X},{context:this.vm})},unbind:function(){P.remove(this.el)}}),K.directive("lazy-container",{update:function(U,X){F.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:U,oldValue:X},{context:this.vm})},unbind:function(){F.unbind(this.el)}}))}}});Vue.use(VueLazyload,{preLoad:1.3,attempt:3,lazyComponent:true});(function(){var f={beforeEnter:function g(i){vue_utils.addClass(i,"collapse-transition");if(!i.dataset){i.dataset={}}i.dataset.oldPaddingTop=i.style.paddingTop;i.dataset.oldPaddingBottom=i.style.paddingBottom;i.style.height="0";i.style.paddingTop=0;i.style.paddingBottom=0},enter:function h(i){i.dataset.oldOverflow=i.style.overflow;if(i.scrollHeight!==0){i.style.height=i.scrollHeight+"px";i.style.paddingTop=i.dataset.oldPaddingTop;i.style.paddingBottom=i.dataset.oldPaddingBottom}else{i.style.height="";i.style.paddingTop=i.dataset.oldPaddingTop;i.style.paddingBottom=i.dataset.oldPaddingBottom}i.style.overflow="hidden"},afterEnter:function a(i){vue_utils.removeClass(i,"collapse-transition");i.style.height="";i.style.overflow=i.dataset.oldOverflow},beforeLeave:function b(i){if(!i.dataset){i.dataset={}}i.dataset.oldPaddingTop=i.style.paddingTop;i.dataset.oldPaddingBottom=i.style.paddingBottom;i.dataset.oldOverflow=i.style.overflow;i.style.height=i.scrollHeight+"px";i.style.overflow="hidden"},leave:function c(i){if(i.scrollHeight!==0){vue_utils.addClass(i,"collapse-transition");i.style.height=0;i.style.paddingTop=0;i.style.paddingBottom=0}},afterLeave:function e(i){vue_utils.removeClass(i,"collapse-transition");i.style.height="";i.style.overflow=i.dataset.oldOverflow;i.style.paddingTop=i.dataset.oldPaddingTop;i.style.paddingBottom=i.dataset.oldPaddingBottom}};Vue.component("collapse-transition-component",{name:"CollapseTransition",functional:true,render:function d(j,l){var i=l.children;var k={on:f};return j("transition",k,i)}})}());(function(){Vue.component("scrollbar-component",{name:"Scrollbar",props:{theme:String},data:function(){return{thumbTop:0,thumbHeight:0,activeThumb:false,hiddenThumb:false}},template:'<div class="jz-scrollbar" :class="scrollbarClass"><div class="scrollbar-wrap" :style="wrapStyles" @scroll="scrollHandler"  ref="wrap"><div class="scrollbar-resize" v-resize="update"><div class="scrollbar-view"><slot></slot></div></div></div><div class="scrollbar-track" :class="{\'is-hidden\': hiddenThumb}" ref="track"><div class="scrollbar-thumb" :style="thumbStyle" @mousedown.prevent="mousedownThumbHandler"></div></div></div>',computed:{thumbStyle:function(){return{top:this.proxyThumbTop+"px",height:this.proxyThumbHeight+"px"}},scrollbarClass:function(){return[this.activeThumb?"is-cursorDown":"",this.theme?("is-"+this.theme):""]},wrapStyles:function(){var a=vue_utils.scrollbarWidth();return{"overflow-y":"scroll","overflow-x":"hidden","margin-right":"-"+a+"px"}},proxyThumbTop:{get:function(){return this.thumbTop},set:function(b){var c=Math.round(b),a=this.$refs.track.clientHeight-this.proxyThumbHeight;this.thumbTop=c<0?0:c>a?a:c}},proxyThumbHeight:{get:function(){return this.thumbHeight},set:function(a){var b=Math.round(a),c=30;this.thumbHeight=b<c?c:b}}},watch:{thumbTop:function(a){if(a+this.thumbHeight==this.$refs.track.clientHeight){this.$emit("scroll-end")}}},methods:{update:function(){var b=this.$refs,c=b.wrap,a=b.track;if(!c){return}this.hiddenThumb=c.clientHeight===0||c.clientHeight>=c.scrollHeight;if(this.hiddenThumb){return}this.proxyThumbHeight=c.clientHeight/c.scrollHeight*a.clientHeight;this.ratio=(c.scrollHeight-c.clientHeight)/(a.clientHeight-this.proxyThumbHeight);this.proxyThumbTop=c.scrollTop/this.ratio},mousedownThumbHandler:function(a){a.stopImmediatePropagation();this.prevClientY=a.clientY;vue_utils.on(document,"mousemove",this.mousemoveDocumentHandler);vue_utils.on(document,"mouseup",this.mouseupDocumentHandler);this.oldOnselectstart=document.onselectstart;document.onselectstart=function(){return false};this.activeThumb=true},mousemoveDocumentHandler:function(a){this.proxyThumbTop+=a.clientY-this.prevClientY;this.prevClientY=a.clientY;this.$refs.wrap.scrollTop=this.proxyThumbTop*this.ratio},mouseupDocumentHandler:function(a){vue_utils.off(document,"mousemove",this.mousemoveDocumentHandler);vue_utils.off(document,"mouseup",this.mouseupDocumentHandler);document.onselectstart=this.oldOnselectstart;this.oldOnselectstart=null;this.activeThumb=false},scrollHandler:function(){if(this.activeThumb){return}this.hiddenThumb&&this.update();this.proxyThumbTop=this.$refs.wrap.scrollTop/this.ratio},scrollTo:function(a){this.$refs.wrap.scrollTop=a},scrollToEnd:function(){var a=this.$refs.wrap;this.scrollTo(a.scrollHeight-a.clientHeight)},scrollToDOM:function(a){this.scrollTo(a.offsetTop)}},mounted:function(){this.$on("update",this.update);this.$on("scrollToEnd",this.scrollToEnd);this.$on("scrollToDOM",this.scrollToDOM);this.$on("scrollTo",this.scrollTo);if(window.frameElement){if(document.readyState=="complete"){this.$nextTick(this.update)}else{vue_utils.on(window.frameElement,"load",this.update)}}else{this.$nextTick(this.update)}if(this.theme=="popup"){var a=function(c){var b=c.parentNode;if(b&&b!=document){b.className=(b.className||"")+" scrollbar-popup-father";a(b)}};a(this.$el)}}})})();(function(){Vue.component("popup-component",{name:"Popup",template:'<div class="jz_popup"><div class="jz_popup_container"><slot></slot></div><div class="jz_popup_mask" @click="maskClick"></div></div>',methods:{maskClick:function(a){this.$emit("mask-click",a)}}})})();(function(){Vue.component("dialog-component",{name:"Dialog",template:'<transition name="jz-dialog-fade" v-if="open"><popup-component><div class="jz_dialog"><div class="jz_dialog_main"><div class="jz_dialog_icon" v-if="icon"><i v-if="icon == \'warning\'" class="jz_icon_warning"></i><div v-else-if="icon == \'success\'" class="jz_icon_success"><div class="jz_icon_success_placeholder"></div><i class="jz_icon_success_bingo"></i></div></div><div class="jz_dialog_content"><slot name="content"><div v-html="content"></div></slot></div><div class="jz_dialog_description" v-if="$slots.description || description"><slot name="description"><div v-html="description"></div></slot></div><div class="jz_dialog_buttons" v-if="confirmButton || cancelButton"><button-component v-if="confirmButton" class="jz_dialog_button" global-oper :active="confirmButton.active || true" :disabled="confirmButton.disabled || false" :href="confirmButton.href || null" @click.stop="clickConfirmHandler">{{confirmButton.text}}</button-component><button-component v-if="cancelButton" class="jz_dialog_button" global-oper :active="cancelButton.active || false" :disabled="cancelButton.disabled || false" :href="cancelButton.href || null" @click.stop="clickCancelHandler">{{cancelButton.text}}</button-component></div></div><div class="jz_dialog_footer" v-if="$slots.footer"><slot name="footer"></slot></div><i class="jz_dialog_close jz_icon_close" @click.stop="clickCloseHandler"></i></div></popup-component></transition>',data:function(){return{open:false}},props:{content:{type:String,"default":""},description:{type:String,"default":""},icon:{type:String,validator:function(a){return["warning","success"].indexOf(a)>-1}},confirmButton:Object,cancelButton:Object},watch:{open:function(a){if(a===false){this.$emit("destroy");this.$destroy();this.$el&&this.$el.parentNode.removeChild(this.$el)}}},mounted:function(){vue_utils.on(document,"keydown",this.keydownEnterHandler);vue_utils.on(document,"keydown",this.keydownEscHandler)},beforeDestroy:function(){vue_utils.off(document,"keydown",this.keydownEnterHandler);vue_utils.off(document,"keydown",this.keydownEscHandler)},methods:{keydownEnterHandler:function(a){if(a.keyCode==13){this.confirm()}},keydownEscHandler:function(a){if(a.keyCode==27){this.close()}},clickConfirmHandler:function(){this.confirm()},clickCancelHandler:function(){this.cancel()},clickCloseHandler:function(){this.close()},confirm:function(){this.hide();this.$emit("confirm")},cancel:function(){this.hide();this.$emit("cancel")},close:function(){this.hide();this.$emit("close")},hide:function(){this.open=false},show:function(){this.open=true}}});Vue.prototype.$createDialog=function(b,c){var d={};if(b.data){d=b.data}var e={};if(b.onConfirm){e.confirmHandler=b.onConfirm}if(b.onCancel){e.cancelHandler=b.onCancel}if(b.onClose){e.closeHandler=b.onClose}e.destroyHandler=function(){this.$destroy()};var a=new Vue({el:document.createElement("div"),data:d,methods:e,render:function(g){var h={};if(this.confirmHandler){h.confirm=this.confirmHandler}if(this.cancelHandler){h.cancel=this.cancelHandler}if(this.closeHandler){h.close=this.closeHandler}if(this.destroyHandler){h.destroy=this.destroyHandler}var f={};if(vue_utils.isDef(b.content)){f.content=b.content}if(vue_utils.isDef(b.description)){f.description=b.description}if(vue_utils.isDef(b.icon)){f.icon=b.icon}if(vue_utils.isDef(b.confirmButton)){f.confirmButton=b.confirmButton}if(vue_utils.isDef(b.cancelButton)){f.cancelButton=b.cancelButton}var i=[];if(c){i=c.call(this,g)}return g("dialog-component",{on:h,props:f,ref:"dialog"},Array.isArray(i)?i:[i])}});top.document.body.appendChild(a.$el);a.$refs.dialog.show();return a.$refs.dialog}})();(function(){Vue.component("popover-component",{name:"popover",template:"<div ref='jzPopover' class='jz_popover' :class='classes'><div class='popover_bg'></div><div class='popover_panel' :style='panelStyle'><div class='popover_wrap'><div class='popover_header_wrap'><slot name='header'><div class='popover_header_wrap2'><div class='popover_header'><div class='popover_header_inner'><span class='popover_header_span1'></span><span class='popover_header_span2'></span></div></div></div></slot></div><div class='popover_content_wrap'><slot name='content'></slot></div><div class='popover_operate_wrap'><slot name='operate'><button-component class='popover_operate_button' global-oper active @click='popoverSure'>确 定</button-component><button-component class='popover_operate_button' global-oper @click='popoverCancle'>取 消</button-component></slot></div><div class='popover_close' @click='popoverClose'></div></div></div></div>",props:{w:Number,h:Number,bg:String,classes:String},data:function(){var b=document.documentElement.clientWidth,a=document.documentElement.clientHeight;return{panelStyle:{width:this.w+"px",height:this.h+"px",background:this.bg,left:(b-this.w)/2+"px",top:(a-this.h)/2+"px"},close:false}},methods:{popoverSure:function(){this.$emit("sure",this);if(this.close){this.popoverDestroy()}},popoverCancle:function(){if(this._events.cancle){this.$emit("cancle",this);if(this.close){this.popoverDestroy()}}else{this.popoverDestroy()}},popoverClose:function(){if(this._events.close){this.$emit("close",this);if(this.close){this.popoverDestroy()}}else{this.popoverCancle()}},popoverDestroy:function(){this.$refs.jzPopover.parentElement.removeChild(this.$refs.jzPopover);this.$destroy();this.$parent.$destroy()}}})})();(function(){var b=0;var a=600;var c=32;Vue.component("gallery-component",{name:"Gallery",props:vue_utils.initDefaultProps({wrapWidth:Number,viewWidth:Number,prevLeft:Number,nextRight:Number},{wrapWidth:a,viewWidth:a,prevLeft:c,nextRight:c}),data:function(){return{index:b}},template:'<div class="jz-gallery" :data-index="proxyIndex" :data-max-index="maxIndex"><div class="gallery-wrap" :style="wrapStyles"><div class="gallery-view" :style="viewStyles"><slot></slot></div></div><div class="gallery-button is-prev" :class="{\'is-disabled\': proxyIndex == minIndex}" :style="prevStyles" v-if="maxIndex > 0" @click="slideToPrev"></div><div class="gallery-button is-next" :class="{\'is-disabled\': proxyIndex == maxIndex}" :style="nextStyles" v-if="maxIndex > 0" @click="slideToNext"></div></div>',computed:{prevStyles:function(){return{left:"-"+this.prevLeft+"px"}},nextStyles:function(){return{right:"-"+this.nextRight+"px"}},wrapStyles:function(){return{width:this.wrapWidth+"px"}},viewStyles:function(){var f=this.proxyIndex*this.wrapWidth,e=this.viewWidth-this.wrapWidth;var d=f>e?e:f;return{width:this.viewWidth+"px","margin-left":"-"+d+"px"}},maxIndex:function(){return Math.ceil(this.viewWidth/this.wrapWidth)-1},minIndex:function(){return 0},proxyIndex:{get:function(){return this.index},set:function(e){var f=this.maxIndex,d=this.minIndex;this.index=e>f?f:e<d?d:e}}},created:function(){this.$on("slide-to-first",this.slideToFirst);this.$on("slide-to-prev",this.slideToPrev);this.$on("slide-to-next",this.slideToNext);this.$on("slide-to-last",this.slideToLast)},methods:{slideToPrev:function(){this.proxyIndex--},slideToNext:function(){this.proxyIndex++},slideToLast:function(){this.proxyIndex=this.maxIndex},slideToFirst:function(){this.proxyIndex=this.minIndex}}})})();
/*!
 * 按钮组件
 * 页面插入：<btn-component type="ClassName" icon="ClassName" :disabled="Boolean" :active="Boolean" @click="log">按钮</btn-component>
 * 可选参数：type | icon | disabled | active | @click
 * type : global-oper(用于保存、取消等全局操作按钮)
 * @click : log是外部定义方法，点击按钮通知调用外部方法log
 *
 * https://cn.vuejs.org/v2/guide/components.html#什么是组件？
 * Reference：https://www.iviewui.com/components/button
 * Depends: vue.js
 */
(function(){Vue.component("button-component",{name:"Button",template:'<component :is="href ? \'a\' : \'button\'" :href="href || null" :target="href ? (target || null) : null" class="jz_button" @click="clickHandler" :disabled="disabled" :class="{jz_button__global_oper: globalOper, jz_button__active: active, jz_button__link: href}"><i v-if="icon" class="jz_icon" :class="icon ? \'jz_icon_\' + icon : \'\'"></i><span class="jz_button_content"><slot></slot></span></component>',props:{icon:String,disabled:Boolean,active:Boolean,globalOper:Boolean,href:String,target:{type:String,"default":"_blank"}},methods:{clickHandler:function(a){this.$emit("click",a)}}})})();(function(){var a="jz-input";var b=true;Vue.component("input-component",{name:"Input",template:'<div :class="wrapClasses" @click.stop><template v-if="type !== \'textarea\'"><input ref="input" :id="id" type="text" :maxlength="maxlength" :readonly="readonly" :class="inputClasses" :placeholder="placeholder" :value="currentValue" :unit="unit" @keypress="handleKeypress" :disabled="disabled" :number="number" @click="handleInputClick" @keyup.enter="handleEnter" @input="handleInput" @focus="handleFocus" @blur="handleBlur"><i v-if="icon && !focusStatus" :class="iClasses" @click="clickSearchIcon"></i><i v-if="icon && focusStatus" :class="iClasses" @mousedown.prevent @click="clickClearIcon"></i></template><textarea v-else ref="input" class="input-textarea-inner" :value="currentValue" :disabled="disabled" :class="inputClasses" :placeholder="placeholder" :maxlength="maxlength" @input="handleInput" @blur="handleBlur" @focus="handleFocus"></textarea><span v-if="limit" :class="lClasses" v-html="limitText"></span></div>',props:{id:String,classes:String,pattern:String,maxlength:[String,Number],readonly:Boolean,type:String,placeholder:String,disabled:Boolean,icon:String,value:[String,Number],number:Boolean,negativeNumber:Boolean,unit:String,noTrim:Boolean,format:String,limit:String},data:function(){return{currentValue:this.value,showUnit:false,focusStatus:false}},methods:{handleEnter:function(c){this.$emit("on-enter",c)},handleInputClick:function(c){this.$refs.input.parentNode.click();this.$refs.input.focus();if(b){this.$refs.input.select()}b=false;this.$emit("click",c)},handleInput:function(e){var f=e.target.value;var d=this.noTrim?f:f.trim();if(this.number&&d!==""){d=Number.isNaN(Number(d))?d.replace(/[^0-9]/ig,""):Number(d);this.$refs.input.value=d}if(this.negativeNumber&&d!==""){if(d.charAt(0)==="-"){var c=d.replace("-","");d=Number.isNaN(Number(c))?c.replace(/[^0-9]/ig,""):Number(c);d="-"+(d===0?"":d)}else{d=Number.isNaN(Number(d))?d.replace(/[^0-9]/ig,""):Number(d)}this.$refs.input.value=d}this.setCurrentValue(d);this.$emit("input",d);this.$emit("on-change",e)},handleKeypress:function(d){if(this.format){var c=new RegExp(this.format);if(!c.test(d.key)){d.preventDefault();return false}}},handleFocus:function(c){if(this.unit){this.$refs.input.value=c.target.value.replace(this.unit,"");this.showUnit=false}this.focusStatus=true;this.$emit("on-focus",c);this.$emit("on-undo-focus",this.currentValue)},handleBlur:function(c){if(!!this.unit&&c.target.value!==""){this.$refs.input.value=c.target.value+this.unit;this.showUnit=true}this.focusStatus=false;b=true;this.$emit("on-blur",c);this.$nextTick(function(){this.$emit("on-undo-blur",this.currentValue)})},clickSearchIcon:function(){this.$emit("on-click-search",this.currentValue)},clickClearIcon:function(){if(this.currentValue!==""){this.setCurrentValue("")}this.$emit("on-click-clear",this.currentValue)},setCurrentValue:function(c){if(this.number&&c!==""){c=Number.isNaN(Number(c))?"":Number(c)}this.currentValue=c},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()}},computed:{wrapClasses:function(){var c={};c[a+"-wrapper"]=true;c[a+"-"+this.type]=!!this.type;return c},inputClasses:function(){var c={};c[a]=true;c[this.classes]=!!this.classes;c[a+"-limitwrapper"]=!!this.limit;return c},iClasses:function(){var c={};c[a+"-icon"]=true;c[this.icon]=!!this.icon;return c},lClasses:function(){var c={};c[a+"-limit"]=true;c[this.limit]=!!this.limit;return c},limitText:function(){var c=this.currentValue?this.currentValue.length:0;c=c>this.maxlength?this.maxlength:c;return(c+"/"+this.maxlength)}},mounted:function(){var c=this;if(this.pattern){this.$nextTick(function(){if(typeof c.$refs.input!=="undefined"){c.$refs.input.style.cssText+=c.pattern}})}if(this.value!==""&&!!this.unit){this.$nextTick(function(){if(typeof c.$refs.input!=="undefined"){c.$refs.input.value=c.value+c.unit}})}},watch:{value:function(d){var c=this.$refs.input,e=this;if(document.hasFocus()&&document.activeElement==c){}else{if(this.value!==""&&!!this.unit&&!!this.value){this.$nextTick(function(){if(typeof e.$refs.input!=="undefined"&&e.value.toString().indexOf(e.unit)==-1){e.$refs.input.value=e.value+e.unit}})}}this.setCurrentValue(d)}}})}());(function(){Vue.component("input-number-component",{name:"InputNumber",template:'<div class="jz-input-number"><input class="input-number-input" :disabled="disabled" :style="inputStyle" :value="showValue" @input="inputHandler" @focus="focusHandler" @blur="blurHandler" ref="input"></div>',props:{width:[String,Number],value:{type:[String,Number],"default":0},max:{type:Number,"default":Infinity},min:{type:Number,"default":0},decimal:Boolean,nagative:Boolean,unit:String,digitis:{type:Number,"default":0},disabled:Boolean},data:function(){return{currentValue:0,isFocus:false}},watch:{currentValue:function(a){if(a!==this.value){this.$emit("input",a)}},value:function(a){this.setCurrentValue(a)}},computed:{showValue:function(){var d=this.currentValue,c=this.unit,a=this.isFocus;var b=c?a?d:(d+c):d;return b},inputStyle:function(){var a=this.width;var b={};b.width=(typeof a=="string")?a:(typeof a=="number")?(a+"px"):"";return b},validatorMRE:function(){var c=this.decimal,e=this.nagative,d=this.digitis;var g=/^(?:0|[1-9]\d*)$/,f=/^(?:0|\-?([1-9]\d*)?)$/,a=new RegExp("^(?:0|[1-9]\\d*)(\\.\\d"+(d>0?("{0,"+d+"}"):"*")+")?$"),b=new RegExp("^(\\-|(?:0|\\-?\d+)(\\.\\d"+(d>0?("{0,"+d+"}"):"*")+")?)$");return(c&&e)?b:c?a:e?f:g},validatorRE:function(){var b=this.decimal,c=this.nagative;var e=/^(?:0|[1-9]\d*)$/,d=/^(?:0|\-?[1-9]\d*)$/,f=/^(?:0|[1-9]\d*)(\.\d+)?$/,a=/^(?:0|\-?\d+)(\.\d+)?$/;return(b&&c)?a:b?f:c?d:e}},methods:{inputHandler:function(a){var b=a.target.value;if(b===""){return}if(this.validatorMRE.test(b)){this.validatorRE.test(b)&&this.setCurrentValue(b)}else{this.$forceUpdate()}},focusHandler:function(){this.isFocus=true;this.$emit("focus");this.$emit("on-undo-focus",this.currentValue)},blurHandler:function(){if(this.currentValue<this.min||this.$refs.input.value===""){this.setCurrentValue(this.min);this.$emit("error")}this.isFocus=false;this.$forceUpdate();this.$emit("blur");this.$emit("on-undo-blur",this.currentValue)},setCurrentValue:function(c){var b=parseFloat(c),a=isNaN(b)?"":b;if(a>this.max){this.currentValue=this.max;this.$emit("error");this.$forceUpdate()}else{this.currentValue=a}}},created:function(){this.setCurrentValue(this.value)}})})();
/*!radio组件
 *	页面插入（选项组示例，具体例子可参照banner 2.0 的编辑页的高级设置）：
 *	<radio-group-component v-model="？" v-on:on-change="？">
 *		<radio-component label="？" >？</radio-component>
 *		<radio-component label="？" >？</radio-component>
 *	</radio-group-component>
 * 
 * 单独使用: 使用 v-model 可以双向绑定数据。
 * 组合使用: 使用Radio-group实现一组互斥的选项组。在组合使用时，Radio 使用 label 来自动判断。每个 Radio 的内容可以自定义，如不填写则默认使用 label 的值。详见radio-group.js
 * 属性参数如下：
 * 		value：	只在单独使用时有效。可以使用 v-model 双向绑定数据	Boolean
 *		label：	只在组合使用时有效。指定当前选项的 value 值，组合会自动判断当前选择的项目	String | Number	| Boolean
 *		disabled：  是否禁用当前项  Boolean   
 * 事件：响应父组件事件
 * input
 * on-change        
 */
(function(){var a="jz-radio";Vue.component("radio-component",{name:"Radio",template:'<label :disabled="disabled" :class="wrapClasses" ><span :class="radioClasses"><span :class="innerClasses"></span><input type="radio" :class="inputClasses" :checked="currentValue" @change="change"></span><span :class="textClasses"><slot>{{ label }}</slot></span></label>',props:{value:Boolean,label:{type:[String,Number,Boolean]},disabled:Boolean},data:function(){return{currentValue:this.value,group:false,parent:vue_utils.findComponentUpward(this,"RadioGroup")}},computed:{wrapClasses:function(){var b={};b[a+"-wrapper"]=true;b[a+"-group-item"]=!!this.group;b[a+"-wrapper-checked"]=!!this.currentValue;return b},radioClasses:function(){var b={};b[a]=true;b[a+"-checked"]=!!this.currentValue;return b},innerClasses:function(){return a+"-inner"},inputClasses:function(){return a+"-input"},textClasses:function(){var b={};b[a+"-text"]=true;return b}},mounted:function(){if(this.parent){this.group=true}if(!this.group){this.updateValue()}else{this.parent.updateValue()}},methods:{change:function(c){if(this.disabled){return false}var b=c.target.checked;this.currentValue=b;this.$emit("input",b);if(this.group&&this.label!==undefined){this.parent.change({value:this.label,checked:this.value})}if(!this.group){this.$emit("on-change",b)}},updateValue:function(){this.currentValue=this.value}},watch:{value:function(){this.updateValue()}}})}());
/*!
 * radio-group组件
 */
(function(){var a="jz-radio-group";Vue.component("radio-group-component",{name:"RadioGroup",template:'<div :class="classesWrapper"><slot></slot></div>',props:{value:{type:[String,Number,Boolean]},classes:String},data:function(){return{currentValue:this.value,childrens:[],cache:this.value}},computed:{classesWrapper:function(){var b={};b[a]=a;b[this.classes]=!!this.classes;return b}},mounted:function(){this.updateValue()},methods:{updateValue:function(){var b=this.value;this.childrens=vue_utils.findComponentsDownward(this,"Radio");if(this.childrens){this.childrens.forEach(function(c){c.currentValue=b==c.label;c.group=true})}},change:function(b){this.currentValue=b.value;this.updateValue();this.$emit("input",b.value);this.$emit("on-change",b.value);this.$emit("on-undo",b.value,this.cache);this.cache=this.currentValue}},watch:{value:function(c,b){this.cache=c;this.updateValue()}}})}());
/*! switch组件
 * 
 * 属性参数如下：
 * 		value：	只在单独使用时有效。可以使用 v-model 双向绑定数据	Boolean
 *		disabled：  禁用开关  Boolean   
 * 事件：响应父组件事件
 * on-change      
 *
 * slot: 分发自定义内容
 *
 * open：   自定义显示打开时的内容
 * close：	自定义显示关闭时的内容 
 */
(function(){var a="jz-switch";Vue.component("switch-component",{name:"Switch",template:'<span :class="wrapClasses" @click="toggle"><span :class="innerClasses"><slot name="open" v-if="currentValue"></slot><slot name="close" v-if="!currentValue"></slot></span></span>',props:{value:Boolean,disabled:Boolean},data:function(){return{currentValue:this.value}},computed:{wrapClasses:function(){var b={};b[a]=true;b[a+"-checked"]=!!this.currentValue;b[a+"-disabled"]=!!this.disabled;return b},innerClasses:function(){return a+"-inner"}},methods:{toggle:function(){if(this.disabled){return false}var b=!this.currentValue;this.currentValue=b;this.$emit("input",b);this.$emit("on-change",b);this.$emit("on-undo",b)}},watch:{value:function(b){this.currentValue=b}}})}());
/*!photo组件(其实就是选中的一些效果)
 *	页面插入：
 *	<photo-group-component v-model="？" v-on:on-change="？">
 *		<photo-component label="？" >？</photo-component>
 *		<photo-component label="？" >？</photo-component>
 *	</photo-group-component>
 * 
 * 单独使用: 使用 v-model 可以双向绑定数据。
 * 组合使用: 使用 Photo-group实现一组互斥的选项组。在组合使用时，Photo 使用 label 来自动判断。每个 Photo 的内容可以自定义，如不填写则默认使用 label 的值。详见photo-group.js
 * 属性参数如下：
 * 		value：	只在单独使用时有效。可以使用 v-model 双向绑定数据	Boolean
 *		label：	只在组合使用时有效。指定当前选项的 value 值，组合会自动判断当前选择的项目	String | Number	| Boolean	
 *		type :  选中的类型，现在传type='warn',有提供警示性选中提示
 *      size：  选中右下角的图片大小，现在提供两种尺寸，small和large
 * 事件：响应父组件事件
 * 
 * on-change        
 */
(function(){var a="jz-photo";Vue.component("photo-component",{name:"Photo",template:'<label :class="wrapClasses"><input type="radio" :class="inputClasses" :checked="currentValue" @change="change"><slot></slot></label>',props:{label:{type:[String,Number,Boolean]},type:String,size:{validator:function(b){return vue_utils.oneOf(b,["mini","small","large"])}},value:Boolean},data:function(){return{currentValue:this.value,group:false,parent:vue_utils.findComponentUpward(this,"PhotoGroup")}},mounted:function(){if(this.parent){this.group=true}if(!this.group){this.updateValue()}else{this.parent.updateValue()}},computed:{wrapClasses:function(){var b={};b[a+"-wrapper"]=true;b[a+"-group-item"]=!!this.group;b[a+"-checked"]=!!this.currentValue;b[a+"-"+this.type]=!!this.type;b[a+"-"+this.size]=!!this.size;return b},inputClasses:function(){return"jz-radio-input"}},methods:{change:function(c){var b=c.target.checked;this.currentValue=b;this.$emit("input",b);if(this.group&&this.label!==undefined){this.parent.change({value:this.label,checked:this.value})}if(!this.group){this.$emit("on-change",b)}},updateValue:function(){this.currentValue=this.value}},watch:{value:function(){this.updateValue()}}})}());
/*!
 * photo-group组件
 */
(function(){var a="jz-photo-group";Vue.component("photo-group-component",{name:"PhotoGroup",template:'<div :class="classes"><slot></slot></div>',props:{value:{type:[String,Number,Boolean]}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){return a}},mounted:function(){this.updateValue()},methods:{updateValue:function(){var b=this.value;this.childrens=vue_utils.findComponentsDownward(this,"Photo");if(this.childrens){this.childrens.forEach(function(c){c.currentValue=b==c.label;c.group=true})}},change:function(b){this.currentValue=b.value;this.updateValue();this.$emit("input",b.value);this.$emit("on-change",b.value)}},watch:{value:function(){this.updateValue()}}})}());
/*! select组件
 *   
 *  页面插入：
 *
 *  "<select-component v-on:on-change='?' filterable placement='bottom' v-model='?' style='width: 130px;'>" 
 *       "<select-item-component v-for='?' :value='?'>{{ ?? }}</select-item-component>" 
 *  "</select-component>" 
 * 
 * filterable： 可搜索选项
 *
 * 该组件拆分成5个文件，select.js, select-dropdown.js, select-item.js, dropdown.js, dropdown-menu.js，都是有特定的功能。
 * 
 * 支持二级选择
 * 
 * 事件：响应父组件事件
 *
 * on-change: 返回value值，设置labelInValue 可以返回对象，及value和label值 
 *
 * 原则上select-item-component 优先显示 slot 内容，如果没有定义 slot，则显示label的值，如果没有设置 label，则显示value的值。   
 */
(function(){var a="jz-select";var c="无匹配数据";var b="请选择";var d="154";Vue.component("select-component",{name:"Select",template:'<div :class="classes" v-clickoutside="handleClose"><div :class="selectionCls" ref="reference" @click="toggleMenu"><slot name="input"><span :class="placeholderCls" v-show="showPlaceholder && !filterable">{{ localePlaceholder }}</span><span :class="selectedCls" v-show="!showPlaceholder && !filterable">{{ selectedSingle }}</span><input type="text" v-if="filterable" v-model="query" :disabled="disabled" :class="inputCls" :placeholder="showPlaceholder ? localePlaceholder : \'\'" @blur="handleBlur" @keydown="resetInputState" ref="input"><i :class="iconCls"></i></slot></div><select-dropdown-component :class="isTagNotFoundCls" :isfixed="isfixed" v-show="dropVisible" :placement="placement" ref="drop"><scrollbar-component theme="select" ref="scrollbar"><ul v-show="notFoundShow && !isTag" :class="notFoundCls" ><li>{{ localeNotFoundText }}</li></ul><ul v-show="!notFound" :style="dropdownListStyle" class="jz-select-dropdown-list"><slot></slot></ul></scrollbar-component></select-dropdown-component></div>',props:{value:[String,Number],label:[String,Number],disabled:Boolean,placeholder:String,filterable:Boolean,notfoundtext:String,maxdropheight:String,labelinvalue:Boolean,placement:{validator:function(e){return vue_utils.oneOf(e,["top","bottom"])},"default":"bottom"},isfixed:Boolean,isTag:{type:Boolean,"default":false},list:{type:Array,"default":function(){return[]}}},data:function(){return{prefixCls:a,visible:false,options:[],optionInstances:[],selectedSingle:"",selectedMultiple:[],focusIndex:0,query:"",lastQuery:"",selectToChangeQuery:false,inputLength:20,notFound:false,model:this.value,currentLabel:this.label,animated:false,cacheValue:null}},computed:{classes:function(){var e={};e[a]=true;e[a+"-single"]=true;e[a+"-visible"]=!!this.visible;e[a+"-disabled"]=!!this.disabled;return e},notFoundCls:function(){var e={};e[a+"-not-found"]=true;return e},isTagNotFoundCls:function(){var e={};e["isTag-not-found"]=!!this.isTag&&this.notFoundShow;return e},selectionCls:function(){var e={};e[a+"-selection"]=!this.isTag;return e},placeholderCls:function(){var e={};e[a+"-placeholder"]=true;return e},selectedCls:function(){var e={};e[a+"-selected-value"]=true;return e},inputCls:function(){var e={};e[a+"-input"]=true;return e},iconCls:function(){var e={};e[a+"-arrow"]=true;e[a+"-trigger-arrow"]=!!this.visible;return e},showPlaceholder:function(){var e=false;if(typeof this.model==="string"){if(this.model===""){e=true}}else{if(this.model===null){e=true}}return e},localeNotFoundText:function(){if(this.notfoundtext===undefined){return c}else{return this.notfoundtext}},localePlaceholder:function(){if(this.placeholder===undefined){return b}else{return this.placeholder}},dropVisible:function(){var e=true;var f=this.$slots["default"]||[];if(this.query===""&&!f.length){e=false}if(this.isTag&&!f.length){e=false}return this.visible&&e&&this.animated},notFoundShow:function(){var e=this.$slots["default"]||[];return(this.notFound)||(!e.length)},dropdownListStyle:function(){var e={};e.maxHeight=(this.maxdropheight||d)+"px";return e}},watch:{value:function(e){this.model=e;if(e===""){this.query=""}},label:function(e){this.currentLabel=e},model:function(){var e=this;this.$emit("input",this.model);this.$nextTick(function(){this.modelToQuery();this.$nextTick(function(){this.broadcastQuery("")})});this.updateSingleSelected();if(!this.visible&&this.filterable){this.$nextTick(function(){e.broadcastQuery("")})}},visible:function(e){var f=this;if(this.visible){vue_utils.slideDown(this.$refs.drop.$el,300,function(){f.$refs.scrollbar.$emit("update");vue_utils.dispatch(f,"Scrollbar","update")});this.animated=false}else{vue_utils.slideUp(this.$refs.drop.$el,300,function(){vue_utils.dispatch(f,"Scrollbar","update")});this.animated=true}if(e){if(this.filterable){if(!this.isTag){this.$refs.input.select()}}vue_utils.broadcast(this,"SelectDropdown","on-update-popper")}else{if(this.filterable){if(!this.isTag){this.$refs.input.blur()}setTimeout(function(){f.broadcastQuery("")},300)}vue_utils.broadcast(this,"SelectDropdown","on-destroy-popper")}},query:function(f){var g=this;if(!this.selectToChangeQuery){this.$emit("on-query-change",f)}this.broadcastQuery(f);var e=true;this.$nextTick(function(){g.findChild(function(h){if(!h.hidden&&h.$parent.$options.name!=="DropdownMenu"){e=false}});g.notFound=e});this.selectToChangeQuery=false;vue_utils.broadcast(this,"SelectDropdown","on-update-popper")}},methods:{toggleMenu:function(){if(this.disabled||this.isTag){return false}this.visible=!this.visible;if(this.visible){this.cacheValue=this.model}},hideMenu:function(){this.visible=false;this.focusIndex=0;vue_utils.broadcast(this,"SelectItem","on-select-close")},handleClose:function(){this.hideMenu()},findChild:function(e){var f=function(h){var g=h.$options.componentName;if(g){e(h)}else{if(h.$children.length){h.$children.forEach(function(i){f(i,e)})}}};if(this.optionInstances.length){this.optionInstances.forEach(function(g){f(g)})}else{this.$children.forEach(function(g){f(g)})}},modelToQuery:function(){var e=this;if(this.filterable&&this.model!==undefined){this.findChild(function(f){if(e.model===f.value){if(f.label){e.query=f.label}else{if(f.searchLabel){e.query=f.searchLabel}else{e.query=f.value}}}})}},broadcastQuery:function(e){vue_utils.broadcast(this,"SelectItem","on-query-change",e)},updateOptions:function(g,i){var i=i||false;var f=[];var e=1;var h=this;if(!this.list.length){this.findChild(function(j){f.push({value:j.value,label:(j.label===undefined)?j.$el.textContent:j.label});j.index=e++;if(g){h.optionInstances.push(j)}})}this.options=this.list.length?this.list:f;if(g){this.updateSingleSelected(true,i)}},updateSingleSelected:function(h,j){var h=h||false;var j=j||false;var g=typeof this.model;if(g==="string"||g==="number"){var e=false;for(var f=0;f<this.options.length;f++){if(this.model===this.options[f].value){this.selectedSingle=this.options[f].label;e=true;break}}if(j&&!e){this.model="";this.query=""}}this.toggleSingleSelected(this.model,h)},toggleSingleSelected:function(f,g){var e="";var g=g||false;this.findChild(function(h){if(h.value===f){h.selected=true;e=(h.label===undefined)?h.$el.innerHTML:h.label}else{h.selected=false}});this.hideMenu();if(!g){if(this.labelinvalue){this.$emit("on-change",{value:f,label:e})}else{this.$emit("on-change",f);if(this.cacheValue!==null){this.$emit("on-undo",f,this.cacheValue);this.cacheValue=null}}}},slotChange:function(){this.options=[];this.optionInstances=[]},handleBlur:function(){var e=this;setTimeout(function(){if(e.isTag){return}var f=e.model;if(f!==""){e.findChild(function(g){if(g.value===f){e.query=g.label===undefined?g.searchLabel:g.label}})}else{e.query=""}},300)},resetInputState:function(){this.inputLength=this.$refs.input.value.length*12+20},},mounted:function(){var e=this;this.modelToQuery();this.$nextTick(function(){e.broadcastQuery("")});this.updateOptions(true);this.$on("append",function(){e.modelToQuery();e.$nextTick(function(){e.broadcastQuery("")});e.slotChange();e.updateOptions(true,true)});this.$on("remove",function(){e.modelToQuery();e.$nextTick(function(){e.broadcastQuery("")});e.slotChange();e.updateOptions(true,true)});this.$on("on-select-selected",function(f){if(e.model===f){if(this.isTag){this.$emit("on-change",f)}e.hideMenu()}else{e.model=f;if(e.filterable){e.findChild(function(g){if(g.value===f){if(e.query!==""){e.selectToChangeQuery=true}e.lastQuery=e.query=g.label===undefined?g.searchLabel:g.label}})}}})}})}());(function(){Vue.component("select-dropdown-component",{name:"SelectDropdown",template:'<div class="jz-select-dropdown" :class="className" :style="styles"><slot></slot></div>',props:{placement:String,className:String,secondselect:Boolean,isfixed:Boolean,offset:{type:Number,"default":0},boundariesPadding:{type:Number,"default":0},boundariesElement:{type:String,"default":"body"}},data:function(){return{popper:null,width:""}},computed:{styles:function(){var a={};if(this.width){a.width=this.width+"px"}return a}},created:function(){this.$on("on-update-popper",this.update);this.$on("on-destroy-popper",this.destroy)},beforeDestroy:function(){if(this.popper){this.popper.destroy()}},methods:{update:function(){var b=this;var a={};if(this.popper){this.$nextTick(function(){b.popper.update()})}else{this.$nextTick(function(){if(b.secondselect||b.isfixed){a={gpuAcceleration:false,placement:b.placement,boundariesPadding:b.boundariesPadding,forceFixed:true,boundariesElement:b.boundariesElement,offset:b.placement.indexOf("right")>-1?-8:b.offset}}else{a={gpuAcceleration:false,placement:b.placement,boundariesPadding:b.boundariesPadding,forceAbsolute:true,boundariesElement:b.boundariesElement,offset:b.placement.indexOf("right")>-1?-8:b.offset}}if(typeof b.$parent.$refs.reference!=="undefined"){b.popper=new Popper(b.$parent.$refs.reference,b.$el,a);b.popper.onCreate(function(c){b.resetTransformOrigin(c)})}})}if(this.$parent.$options.name==="Select"||this.$parent.$options.name==="Dropdown"){this.width=parseInt(vue_utils.getStyle(this.$parent.$el,"width"))}},destroy:function(){var a=this;if(this.popper){this.resetTransformOrigin(this.popper);setTimeout(function(){a.popper.destroy();a.popper=null},300)}},resetTransformOrigin:function(b){var d={top:"bottom",bottom:"top"};var c=b._popper.getAttribute("x-placement").split("-")[0];var a=d[c];b._popper.style.transformOrigin="center "+a}}})}());(function(){var a="jz-select-item";Vue.component("select-item-component",{name:"SelectItem",componentName:"select-item",template:'<li :class="classes" @mousedown.prevent @click.stop="select" @mouseout.stop="blur" v-show="!hidden"><slot>{{ showLabel }}</slot><i class="second-select-icon" v-if="showicon"></i></li>',props:{secondselect:Boolean,showicon:Boolean,value:[String,Number],label:[String,Number],disabled:Boolean,isTag:Boolean},data:function(){return{selected:false,index:0,isFocus:false,hidden:false,searchLabel:""}},computed:{classes:function(){var b={};b[a]=true;b[a+"-disabled"]=!!this.disabled;b[a+"-selected"]=!!this.selected;b[a+"-focus"]=!!this.isFocus;return b},showLabel:function(){return(this.label)?this.label:this.value}},methods:{select:function(){if(this.disabled||this.secondselect){return false}vue_utils.dispatch(this,"Select","on-select-selected",this.value)},blur:function(){this.isFocus=false},queryChange:function(c){var b=c.replace(/(\^|\(|\)|\[|\]|\$|\*|\+|\.|\?|\\|\{|\}|\|)/g,"\\$1");if(this.$parent.$options.name==="DropdownMenu"){this.hidden=false;return}this.hidden=!new RegExp(b,"i").test(this.searchLabel);if(this.hidden){vue_utils.dispatch(this,"Select","on-item-hidden")}},onSelectClose:function(){this.isFocus=false},onQueryChange:function(b){this.queryChange(b)}},created:function(){this.$on("on-select-close",this.onSelectClose);this.$on("on-query-change",this.onQueryChange)},mounted:function(){vue_utils.dispatch(this,"Select","append",this);this.searchLabel=this.$el.textContent},beforeDestroy:function(){if(!this.isTag){vue_utils.dispatch(this,"Select","remove",this)}}})}());(function(){var a="jz-dropdown";Vue.component("dropdown-component",{name:"Dropdown",template:'<div :class="wrapClasses" v-clickoutside="handleClose" @mouseenter="handleMouseenter" @mouseleave="handleMouseleave"><div :class="relClasses" ref="reference" @click="handleClick"><slot></slot></div><transition :name="transition"><select-dropdown-component :secondselect="secondselect" v-show="currentVisible" :placement="placement" ref="drop" @mouseenter.native="handleMouseenter" @mouseleave.native="handleMouseleave"><slot name="list"></slot></select-dropdown-component></transition></div>',props:{trigger:{validator:function(b){return vue_utils.oneOf(b,["click","hover","custom"])}},placement:{validator:function(b){return vue_utils.oneOf(b,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])}},visible:Boolean,secondselect:Boolean},data:function(){return{prefixCls:a,currentVisible:this.visible}},computed:{wrapClasses:function(){var b={};b[a]=true;return b},relClasses:function(){var b={};b[a+"-rel"]=true;return b},transition:function(){return"fade"}},watch:{visible:function(b){this.currentVisible=b},currentVisible:function(b){if(b){this.$refs.drop.update()}else{this.$refs.drop.destroy()}this.$emit("on-visible-change",b)}},methods:{handleClick:function(){if(this.trigger==="custom"){return false}if(this.trigger!=="click"){return false}this.currentVisible=!this.currentVisible},handleMouseenter:function(){var b=this;if(this.trigger==="custom"){return false}if(this.trigger!=="hover"){return false}if(this.timeout){clearTimeout(this.timeout)}this.timeout=setTimeout(function(){b.currentVisible=true},250)},handleMouseleave:function(){var b=this;if(this.trigger==="custom"){return false}if(this.trigger!=="hover"){return false}if(this.timeout){clearTimeout(this.timeout);this.timeout=setTimeout(function(){b.currentVisible=false},150)}},handleClose:function(){if(this.trigger==="custom"){return false}if(this.trigger!=="click"){return false}this.currentVisible=false},hasParent:function(){var b=vue_utils.findComponentUpward(this,"Dropdown");if(b){return b}else{return false}}},mounted:function(){var b=this;this.$on("on-click",function(c){var d=b.hasParent();if(d){d.$emit("on-click",c)}});this.$on("on-hover-click",function(){var c=this.hasParent();if(c){b.$nextTick(function(){if(b.trigger==="custom"){return false}b.currentVisible=false});c.$emit("on-hover-click")}else{this.$nextTick(function(){if(b.trigger==="custom"){return false}b.currentVisible=false})}});this.$on("on-haschild-click",function(){b.$nextTick(function(){if(b.trigger==="custom"){return false}b.currentVisible=true});var c=b.hasParent();if(c){c.$emit("on-haschild-click")}})}})}());(function(){Vue.component("dropdown-menu-component",{name:"DropdownMenu",template:'<ul class="jz-dropdown-menu"><slot></slot></ul>'})}());
/*! checkbox组件
 *   
 *  页面插入：
 *
 *	"<checkbox-component style='margin-left: 38px;' :true-value='false' :false-value='true' v-on:on-change='?' v-model='?'>独立设置网站标题</checkbox-component>" 
 * 
 *  原则上checkbox-component 优先显示 slot 内容，如果没有定义 slot，则显示label的值，如果没有设置 label，则显示空。   
 *
 * disabled：Boolean, 是否禁用
 * 
 * 事件：响应父组件事件
 *
 * on-change: 返回value值，可通过设置 true-value 或者 false-value 返回相应的选中和不选中的值
 *
 */
(function(){var a="jz-checkbox";Vue.component("checkbox-component",{name:"Checkbox",template:'<label :class="wrapClasses" :title="$slots.default ? $slots.default[0].text : showLabel"><span :class="checkboxClasses"><span :class="innerClasses"></span><input v-if="group" type="checkbox" :class="inputClasses" :disabled="disabled" :value="label" v-model="model" @change="change"><input v-if="!group" type="checkbox" :class="inputClasses" :disabled="disabled" :checked="currentValue" @change="change"></span><slot>{{ showLabel }}</slot></label>',props:{disabled:Boolean,value:[String,Number,Boolean],trueValue:{type:[String,Number,Boolean],"default":true},falseValue:{type:[String,Number,Boolean],"default":true},label:[String,Number,Boolean]},data:function(){return{model:[],currentValue:this.value,group:false,showSlot:true,parent:vue_utils.findComponentUpward(this,"CheckboxGroup")}},computed:{wrapClasses:function(){var b={};b[a+"-wrapper"]=true;b[a+"-wrapper-checked"]=!!this.currentValue;b[a+"-wrapper-disabled"]=!!this.disabled;return b},checkboxClasses:function(){var b={};b[a]=true;b[a+"-checked"]=!!this.currentValue;b[a+"-disabled"]=!!this.disabled;return b},innerClasses:function(){return a+"-inner"},inputClasses:function(){return a+"-input"},showLabel:function(){return(this.label)?this.label:""}},mounted:function(){this.parent=vue_utils.findComponentUpward(this,"CheckboxGroup");if(this.parent){this.group=true}if(!this.group){this.updateModel();this.showSlot=this.$slots["default"]!==undefined}else{this.parent.updateModel(true)}},methods:{change:function(d){if(this.disabled){return false}var c=d.target.checked;this.currentValue=c;var e=c?this.trueValue:this.falseValue,b=c?this.falseValue:this.trueValue;this.$emit("input",e);if(this.group){this.parent.change(this.model)}else{this.$emit("on-change",e);this.$emit("on-undo",e,b)}},updateModel:function(){this.currentValue=this.value===this.trueValue}},watch:{value:function(b){if(b!==this.trueValue&&b!==this.falseValue){throw"Value should be trueValue or falseValue."}this.updateModel()}}})}());
/*!
 * checkbox-group组件
 */
(function(){var a="jz-checkbox-group";Vue.component("checkbox-group-component",{name:"CheckboxGroup",template:'<div :class="classes"><slot></slot></div>',props:{value:{type:Array,"default":function(){return[]}}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){return a}},mounted:function(){this.updateModel(true)},methods:{updateModel:function(c){var b=this.value;this.childrens=vue_utils.findComponentsDownward(this,"Checkbox");if(this.childrens){this.childrens.forEach(function(d){d.model=b;if(c){d.currentValue=b.indexOf(d.label)>=0;d.group=true}})}},change:function(b){this.currentValue=b;this.$emit("input",b);this.$emit("on-change",b)}},watch:{value:function(){this.updateModel(true)}}})}());
/*! page组件
 *   
 *  页面插入：
 *  样式一（简单版）：  <page-component show-total :page-size="6" :current="1" :total="20" simple style="width: 600px;"></page-component>
 *  样式二（复杂版）：  <page-component show-total show-sizer :page-size="15" :current="1" :total="150" style="width: 600px;"></page-component>
 * 
 *  参数：
 *  current 当前页码
 *  simple  简洁版（不传的话就是默认复杂版）  
 *  total   数据总数
 *  page-size   每页条数
 *  page-size-opts  每页条数切换的配置
 *  show-sizer  显示分页，用来改变 page-size
 *  show-total   显示总数
 *  styles  自定义 style 样式
 *  
 */
(function(){var b="jz-page";var a="上一页";var d="下一页";var c="每页显示个数";Vue.component("page-component",{name:"Page",template:'<ul :class="simpleWrapClasses" :style="styles" v-if="simple"><div class="'+b+'-wrap" v-if="showTotal"><span class="'+b+'-size">本页共{{ currentRealPageSize }}个</span><span class="'+b+'-total">总共{{ total }}个</span></div><li :title="prevPage" :class="prevClasses" @click="prev"><a>{{ prevPage }}</a></li><div :class="simplePagerClasses">{{ currentPage }}<span>/</span>{{ allPages }}</div><li :title="nextPage" :class="nextClasses" @click="next"><a>{{ nextPage }}</a></li></ul><ul :class="wrapClasses" :style="styles" v-else><div class="clearFix"><div class="'+b+'-wrap" v-if="showTotal"><span class="'+b+'-size">本页共{{ currentRealPageSize }}个</span><span class="'+b+'-total">总共{{ total }}个</span></div><div v-if="showSizer" class="'+b+'-options-sizer"><div class="'+b+'-sizer">'+c+'</div><select-component style="width: 56px; text-align: left;" v-model="currentPageSize" placement="bottom" @on-change="changeSize"><select-item-component v-for="item in pageSizeOpts" :key="item" :value="item" style="text-align:center;">{{ item }}</select-item-component></select-component></div></div><li :title="prevPage" :class="prevClasses" @click="prev"><i class="'+b+'-arrow-left"></i><a>{{ prevPage }}</a></li><li title="1" :class="firstPageClasses" @click="changePage(1)"><a>1</a></li><li v-if="currentPage - 3 > 1" class="'+b+'-item"><i class="'+b+'-ellipses"></i></li><li :title="currentPage - 2" v-if="currentPage - 2 > 1" class="'+b+'-item" @click="changePage(currentPage - 2)"><a>{{ currentPage - 2 }}</a></li><li :title="currentPage - 1" v-if="currentPage - 1 > 1" class="'+b+'-item" @click="changePage(currentPage - 1)"><a>{{ currentPage - 1 }}</a></li><li :title="currentPage" v-if="currentPage != 1 && currentPage != allPages" class="'+b+"-item "+b+'-item-active"><a>{{ currentPage }}</a></li><li :title="currentPage + 1" v-if="currentPage + 1 < allPages" class="'+b+'-item" @click="changePage(currentPage + 1)"><a>{{ currentPage + 1 }}</a></li><li :title="currentPage + 2" v-if="currentPage + 2 < allPages" class="'+b+'-item" @click="changePage(currentPage + 2)"><a>{{ currentPage + 2 }}</a></li><li v-if="currentPage + 3 < allPages" class="'+b+'-item"><i class="'+b+'-ellipses"></i></li><li :title="allPages" v-if="allPages > 1" :class="lastPageClasses" @click="changePage(allPages)"><a>{{ allPages }}</a></li><li :title="nextPage" :class="nextClasses" @click="next"><a>{{ nextPage }}</a><i class="'+b+'-arrow-right"></i></li><span class="'+b+'-allPages">共{{ allPages }}页</span><span class="'+b+'-elevator">到第<input-component @on-enter="changePage($refs.elevator.currentValue, \'elevator\')" ref="elevator" number pattern="height: 28px;" style="width: 50px; margin: 0 10px;"></input-component>页</span><button class="'+b+'-btn" @click="changePage($refs.elevator.currentValue, \'elevator\')">确定</button></ul>',props:{current:Number,total:Number,pageSize:{type:Number,"default":5},simple:Boolean,className:String,styles:Object,showTotal:Boolean,pageSizeOpts:{type:Array,"default":function(){return[15,30,45,60]}},showSizer:Boolean},data:function(){return{prevPage:a,nextPage:d,currentPage:this.current,currentPageSize:this.pageSize}},watch:{total:function(f){var e=Math.ceil(f/this.currentPageSize);if(e<this.currentPage&&e>0){this.currentPage=e;this.$emit("update:current",this.currentPage)}},current:function(e){this.currentPage=e},pageSize:function(e){this.currentPageSize=e}},computed:{currentRealPageSize:function(){var e=this.total-this.currentPage*this.currentPageSize;if(e<0){return this.currentPageSize+e}return this.currentPageSize},allPages:function(){var e=Math.ceil(this.total/this.currentPageSize);return(e===0)?1:e},simpleWrapClasses:function(){var e={};e[b]=true;e[b+"-simple"]=true;e[this.className]=!!this.className;return e},simplePagerClasses:function(){return b+"-simple-pager"},prevClasses:function(){var e={};e[b+"-prev"]=true;e[b+"-disabled"]=this.currentPage===1;return e},nextClasses:function(){var e={};e[b+"-next"]=true;e[b+"-disabled"]=this.currentPage===this.allPages;return e},wrapClasses:function(){var e={};e[b]=true;e[b+"-complex"]=true;e[this.className]=!!this.className;return e},firstPageClasses:function(){var e={};e[b+"-item"]=true;e[b+"-item-active"]=this.currentPage===1;return e},lastPageClasses:function(){var e={};e[b+"-item"]=true;e[b+"-item-active"]=this.currentPage===this.allPages;return e}},methods:{changePage:function(g,f){if(f=="elevator"){if(vue_utils.isValueNumber(g)){g=Number(g);if(g!=this.currentPage){var e=this.allPages;if(g>e){g=e}}this.$refs.elevator.currentValue=""}else{g=1}}if(this.currentPage!=g){this.currentPage=g;this.$emit("on-change",g)}},changeSize:function(e){this.currentPageSize=e;this.$emit("on-page-size-change",e);this.changePage(1)},prev:function(){var e=this.currentPage;if(e<=1){return false}this.changePage(e-1)},next:function(){var e=this.currentPage;if(e>=this.allPages){return false}this.changePage(e+1)},onPage:function(e){this.changePage(e)}}})}());(function(){Vue.component("colorpicker-component",{name:"Colorpicker",template:'<div :class="wrapClasses" @click.stop="handleClick" :style="{backgroundColor: value}"><div :class="btnClasses" :style="{backgroundColor: value}"></div></div>',props:{value:String,prefixCls:String,options:Object},computed:{wrapClasses:function(){var a={};a[this.prefix+"-wrapper"]=true;return a},btnClasses:function(){var a={};a[this.prefix]=true;return a},prefix:function(){return this.prefixCls||"jz-colorpicker"}},methods:{handleClick:function(){var b=this,e=this.options||{},d=b.value,c={base:$(b.$el),inputHexStatus:a,onchange:a,defaultcolor:b.value,advance:(typeof e.advance=="undefined")?true:e.advance,showInTop:e.showInTop||false,appendToWeb:(typeof e.appendToWeb=="undefined")?true:e.appendToWeb,changeStop:f,left:e.left||0,top:e.top||0,noAlpha:e.noAlpha||false};$(this.$el).faiColorPickerAlp(c);function f(g){b.$emit("on-change-stop",g,d);b.$emit("on-undo",g,d);d=g}function a(g){b.$emit("input",g);b.$emit("on-change",g,$(b.$el))}}}})}());(function(){Vue.component("jz-file-upload",{props:{data:Object},data:function(){return{hoverImgPreviewer:false}},computed:{isFontIcon:function(){return this.checkIsFontIcon(this.data.imgId,this.data.checkIsFontIcon)},fontClass:function(){return this.data.fontClass||""},fontColor:function(){return this.data.fontColor||"rgb(102, 102, 102)"},imgId:function(){return this.data.imgId||""},imgPath:function(){return this.data.imgPath||""},compatible:function(){return this.data&&this.data.imgIdCompatible&&typeof this.imgPath=="string"&&this.imgPath!=""},showPreview:function(){return this.isFontIcon?(this.fontClass.length>0):(!!this.imgId||this.compatible)},fileEditTitle:function(){return typeof this.data.fileEditTitle=="string"?this.data.fileEditTitle:"修改图片"},fileAddTitle:function(){return typeof this.data.fileAddTitle=="string"?this.data.fileAddTitle:"添加图片"}},template:"<div class='jz-fileUpload'><div class='addFileLine'><span class='f-fileTitle' :class='data.titleclass'>{{data.title||'图片'}}：</span><button-component class='f-uploadBtn' @click='fileBtnClick'>{{showPreview ? fileEditTitle : fileAddTitle}}</button-component></div><div class='imgPreviewerLine' v-if='showPreview'><span class='f-fileTitle' :class='data.titleclass'></span><div class='imgPreviewer' v-show='isFontIcon'><div class='f-previewImg' :class='[fontClass]' :style='{ color: fontColor}' ></div></div><div v-show='!isFontIcon' class='imgPreviewer' :class='{imgPreviewerHover: hoverImgPreviewer}' @mouseenter='hoverImgPreviewer = true;' @mouseleave='hoverImgPreviewer = false;'><img :src='!isFontIcon ? imgPath : \"\"' @load='imgOnload($event)'/><div class='imgPreviewerMaskLayer' v-if='hoverImgPreviewer'><div class='imgViewIcon' @click='viewFile'></div><div class='imgRemoveIcon' @click='removeFile'></div></div></div></div></div>",methods:{viewFile:function(){if(this.isFontIcon){return}window.open(this.compatible?this.imgPath:"../view.jsp?fileID="+this.imgId)},removeFile:function(){var c=this,b={filePath:c.data.imgPath||"",fileId:c.data.imgId||"",classname:c.data.classname||"",color:c.data.color||""},a={filePath:"",fileId:"",classname:"",color:""};var d={};if(this.isFontIcon){c.fontClass="";c.fontColor="";d.fontClass="";d.fontColor=""}else{this.imgId="";this.imgPath="";d.filePath="";d.fileId=""}this.$emit("on-change",JSON.stringify({data:[d]}));this.$emit("on-remove",JSON.stringify({data:[d]}));c.$emit("on-undo",{data:[a]},{data:[b]})},fileBtnClick:function(){var a=this;if(window.Site){Site.fileUpload2(false,this.data.setting,b)}else{if(window.Mobi){Mobi.fileUpload2(false,this.data.setting,b)}}function b(e){if(!e){return}var g=$.parseJSON(e),f=g.data[0]||{},d={filePath:a.data.imgPath||"",fileId:a.data.imgId||"",classname:a.data.fontClass||"",color:a.data.fontColor||""},c={filePath:f.filePath||"",fileId:f.fileId||"",classname:f.classname||"",color:f.color||""};a.fileChangeCallBack(e);a.$emit("on-undo",{data:[c]},{data:[d]})}},fileChangeCallBack:function(b){var a=this;if(!b){return}if(b){a.$emit("on-change",b)}},imgOnload:function(c){var a=this.data.imgPreviewerWidth||120,b=this.data.imgPreviewerHeight||70;vue_utils.optimize(c.currentTarget,{width:a,height:b,mode:vue_utils.Img.MODE_SCALE_DEFLATE_FILL,display:3})},checkIsFontIcon:function(b,a){if(!!a&&typeof a=="function"){return a.apply(this,[b])}else{if(!b||b.length==0||b.length<"FontIcon_".length){return false}return b.substring(0,"NewFontIcon_".length)=="NewFontIcon_"||b.substring(0,"FontIcon_".length)=="FontIcon_"}return false}}})}());(function(){var a="jz-background";Vue.component("jz-bg-squaregrid",{template:'<div class="square-lattice-wrap"><ul class="square-lattice-list"><li :class="{cur: curIndex == index}" v-for="(val, index) in map" @click="squareClick(val, curIndex)" :style="list_style"></li></ul></div>',props:{value:Number,map:Array},computed:{list_style:function(){return{width:100/Math.floor(Math.sqrt(this.mun))+1+"%",paddingTop:100/Math.floor(Math.sqrt(this.mun))-1+"%"}},mun:function(){return this.map.length},curIndex:function(){var c=this.map.indexOf(this.value);return c>-1?c:0}},methods:{squareClick:function(c,d){this.$emit("input",c);this.$emit("on-change",c)}},watch:{}});Vue.component("background-component",{name:"Background",template:"<div :class='classes.wrapper'><div><slot name='title'></slot><slot name='bgRadioGroup'></slot></div><div class='jz-bgContent' ><div class='jz-bgRow jz-bgAutoRow'><jz-file-upload ref='fileUpload' :data='fileUpload' @on-change='imgChange'></jz-file-upload></div><div class='jz-bgRow' v-if='data.imgId'><label class='jz-bgTitle jz-bgTitle-middle'>图片缩放：</label><select-graphic-component ref='picScale' size='large' :list='data.bgRepeatLists' @on-change='bgScaleChange' v-model.number='data.picScale'></select-graphic-component></div><div class='jz-bgGridWrapper jz-bgRow' v-if='data.imgId' v-show='data.picScale == 1'><label class='jz-bgTitle jz-bgTitle-middle'>图片位置：</label><jz-bg-squaregrid ref='bgSquareGrid' v-model='data.repeat' @on-change='bgRepeatChange' :map='[13, 8, 14, 6, 0, 7, 15, 9, 16]'></jz-bg-squaregrid></div><div class='jz-bgRow' v-if='data.imgId' v-show='data.picScale == 0'><label class='jz-bgTitle jz-bgTitle-middle' >平铺效果：</label><select-graphic-component ref='bgTiling' size='small' :list='tilingLists' @on-change='bgRepeatChange' v-model.number='data.repeat'></select-graphic-component></div><div class='jz-bgRow' v-show='showColorPicker'><span class='jz-bgTitle jz-bgTitle-middle'>背景色：</span><colorpicker-component ref='bgColor' :options=data.colorPicker v-model='data.color' @on-change='bgColorchange' @on-change-stop='bgColorChangeStop'></colorpicker-component></div><div class='jz-bgRow' v-if='showeffect'><span class='jz-bgTitle jz-bgTitle-middle' >效果：</span><span class='jz-bgEffect'><radio-group-component ref='bgEffect' v-model='data.effectType' @on-change='effectTypeChange'><radio-component :label='0'>默认</radio-component><radio-component :label='1'>锁定背景图片</radio-component></radio-group-component></span></div><div class='jz-bgRow' v-if='data.opacity >= 0'><span class='jz-bgTitle jz-bgTitle-middle' >透明度：</span><input-component ref='opacity' :maxlength='3' v-model='data.opacity' number unit='%' @on-change='bgOpacityChange' @on-blur='bgOpacityBlur'></input-component></div></div></div>",props:["data","showeffect"],data:function(){return{classes:{wrapper:a+"-wrapper"},tilingLists:[{value:3,label:"默认",type:"default",hidden:false},{value:5,label:"缩放平铺",type:"zoom-tile",hidden:false},{value:11,label:"上",type:"top",hidden:false},{value:1,label:"中-横向",type:"in-horizontal",hidden:false},{value:12,label:"下",type:"bottom",hidden:false},{value:21,label:"左",type:"left",hidden:false},{value:2,label:"中-纵向",type:"in-vertical",hidden:false},{value:22,label:"右",type:"right",hidden:false}],cache:{color:this.data.color,picScale:this.data.picScale,repeat:this.data.repeat,effectType:this.data.effectType,imgPath:this.data.imgPath,imgId:this.data.imgId,opacity:this.data.opacity}}},computed:{showColorPicker:function(){return !this.data.imgId||this.data.picScale==1||(this.data.picScale==0&&this.data.repeat!=3&&this.data.repeat!=5)},fileUpload:function(){return{imgIdCompatible:this.data.imgIdCompatible,setting:this.data.uploadData,imgPath:this.data.imgPath,imgId:this.data.imgId,title:this.data.title,titleclass:this.data.titleclass,checkIsFontIcon:this.data.checkIsFontIcon}}},methods:{refreshCache:function(){this.cache={color:this.data.color,picScale:this.data.picScale,repeat:this.data.repeat,effectType:this.data.effectType,imgPath:this.data.imgPath,imgId:this.data.imgId,opacity:this.data.opacity}},effectTypeChange:function(c){this.effectTypeEmit(c);this.$emit("on-undo",this.data,this.cache);this.refreshCache()},effectTypeEmit:function(c){this.data.effectType=c;this.$emit("bg-effect-change",c)},bgColorchange:function(c){this.bgColorEmit(c)},bgColorChangeStop:function(c){this.bgColorEmit(c);this.$emit("on-undo",this.data,this.cache);this.refreshCache()},bgColorEmit:function(c){this.data.color=c;this.$emit("bg-color-change",c)},bgRepeatChange:function(c){this.bgRepeatEmit(c);this.$emit("on-undo",this.data,this.cache);this.refreshCache()},bgRepeatEmit:function(c){this.data.repeat=c;this.$emit("bg-repeat-change",c)},bgScaleChange:function(c){if(this.data.picScale!=1&&this.data.picScale!=0){this.bgColorEmit("transparent")}this.bgScaleEmit(c);this.$emit("on-undo",this.data,this.cache);this.refreshCache()},bgScaleEmit:function(c){this.data.picScale=c;if(c==2){this.data.repeat=-1}else{if(c==3){this.data.repeat=4}else{if(c==0||c==1){if(b(this.data)){this.bgRepeatEmit(this.data.repeat)}}}}this.bgRepeatEmit(this.data.repeat);this.$emit("bg-scale-change",c)},imgChange:function(c){if(this.data.picScale!=1&&this.data.picScale!=0){this.bgColorEmit("transparent")}this.imgEmit(c);this.$emit("on-undo",this.data,this.cache);this.refreshCache()},imgEmit:function(c){this.bgImgChange(c)},bgImgChange:function(c){this.bgImgEmit(c);this.$emit("on-undo",this.data,this.cache);this.refreshCache()},bgImgEmit:function(c){var e=JSON.parse(c),d=e.data[0]||{};this.data.imgPath=d.filePath;this.data.imgId=d.fileId;if(d.fileId){this.data.repeat=this.data.repeat==-1?3:this.data.repeat}this.$emit("img-change",c);if(b(this.data)){this.bgRepeatEmit(this.data.repeat)}},bgDataEmit:function(e){var d={};var c={data:[d]};this.data.imgPath=e.imgPath;this.data.imgId=e.imgId;d.filePath=e.imgPath;d.fileId=e.imgId;this.$emit("img-change",JSON.stringify(c))},bgOpacityChange:function(c){this.bgOpacityEmit(c);this.$emit("on-undo",this.data,this.cache);this.refreshCache()},bgOpacityEmit:function(c){this.data.opacity=c;this.$emit("bg-opacity-change",c)},bgOpacityBlur:function(c){this.$emit("bg-opacity-blur",c,this.$refs.opacity)}}});function b(d){var c=d.repeat;d.repeat=(d.picScale==0&&[3,5,11,1,12,21,2,22].indexOf(d.repeat)<0)?3:d.repeat;d.repeat=(d.picScale==1&&[13,8,14,6,0,7,15,9,16].indexOf(d.repeat)<0)?0:d.repeat;return c!=d.repeat}}());
/*! select-graphic 下拉选择图文组件
 *   
 *  页面插入：
 *	1.小图版： <select-graphic-component v-on:on-change="?" size="small" v-model="?" :list="?"></select-graphic-component>
 *	2.大图版： <select-graphic-component v-on:on-change="?" size="large" v-model="?" :list="?"></select-graphic-component>
 * 
 small list
 	[
		{
            value: 'moren',
            label: '默认',
            type: 'default',
            hidden: false
        },
        {
            value: 'suofangpinpu',
            label: '缩放平铺',
            type: 'zoom-tile',
            hidden: false
        },
        {
            value: 'shang',
            label: '上',
            type: 'top',
            hidden: false
        },
        {
            value: 'zhong-heng',
            label: '中-横向',
            type: 'in-horizontal',
            hidden: false
        },
        {
            value: 'xia',
            label: '下',
            type: 'bottom',
            hidden: false
        },
        {
            value: 'zuo',
            label: '左',
            type: 'left',
            hidden: false
        },
        {
            value: 'zhong-zhong',
            label: '中-纵向',
            type: 'in-vertical',
            hidden: false
        },
        {
            value: 'you',
            label: '右',
            type: 'right',
            hidden: false
        }
    ];
large list
    [
		{
            value: 'pingpu',
            label: '平铺',
            type: 'Tiling',
            hidden: false
        },
        {
            value: 'bupingpu',
            label: '不平铺',
            type: 'not-tile',
            hidden: false
        },
        {
            value: 'lashen',
            label: '拉伸',
            type: 'stretch',
            hidden: false
        },
        {
            value: 'tianchong',
            label: '填充',
            type: 'filling',
            hidden: false
        }
    ]
 *  参数：
 *  list 	循环数组
 *  size 	'small' | 'large'  小图或者大图样式
 * */
(function(){var a="jz-select-graphic";Vue.component("select-graphic-component",{name:"selectGraphic",template:'<select-component ref="selectGraphic" :isfixed="isfixed" @on-change="change" maxdropheight="160" :class="classes" style="width: 160px;" v-model="currentValue" placement="bottom"><select-item-component v-show="!item.hidden" class="clearFix" v-for="item in list" :value="item.value" :key="item.value"><i class="img" :class="item.type"></i><span class="text">{{ item.label }}</span></select-item-component></select-component>',props:{value:[String,Number],list:{type:Array,required:true},size:{validator:function(b){return vue_utils.oneOf(b,["small","large"])},required:true},isfixed:Boolean},data:function(){return{currentValue:this.value,cacheValue:this.value}},computed:{classes:function(){var b={};b[a+"-"+this.size]=!!this.size;return b}},methods:{change:function(b){this.currentValue=b;this.$emit("input",b);this.$emit("on-change",b)}},watch:{value:function(c,b){this.currentValue=c}}})}());(function(){Vue.component("transfer-component",{name:"Transfer",template:'<div class="jz_transfer"><div class="jz_transfer_panel jz_transfer_source"><div class="jz_transfer_operation" :class="operationClasses"><input-component v-model="query" :placeholder="filterLabel" class="jz_transfer_filter" :icon="query.length ? \'jz_transfer_icon_clear\' : \'jz_transfer_icon_search\'" @on-click-clear="clearQuery" @on-click-search="clearQuery"></input-component><i v-if="hasAdd" class="jz_transfer_icon_add" @click="addClickHandler"></i></div><div class="jz_transfer_content"><scrollbar-component theme="transfer" @scroll-end="scrollEndHandler"><ul v-show="!isEmpty" class="jz_transfer_list" ref="sourceDataList"><li v-for="(item, index) in sourceData" class="jz_transfer_item" @click="addToTarget(item)"><div class="jz_transfer_label">{{item[labelAlias]}}</div></li></ul><div v-show="isEmpty" class="jz_transfer_empty" :class="emptyClasses"><div class="jz_transfer_empty_img"></div><p class="jz_transfer_empty_label">{{emptyLabel}}</p></div></scrollbar-component></div></div><div class="jz_transfer_arrow"><i class="jz_transfer_icon_right"></i></div><div class="jz_transfer_panel jz_transfer_target"><div class="jz_transfer_content"><scrollbar-component theme="transfer"><ul class="jz_transfer_list" :class="{jz_transfer_list_is_unsortable: unSortable}"><draggable :value="filterValue" @input="sortHandler" :options="draggableOptions"><li v-for="(item, index) in targetData" class="jz_transfer_item"><div class="jz_transfer_label">{{item[labelAlias]}}</div><div class="jz_transfer_button" :class="[{\'is-first\': index === 0, \'is-last\': index === targetData.length-1 && index !== 0}]"><i class="jz_transfer_icon_up" :class="{jz_transfer_icon_up_is_hidden: operations.indexOf(\'up\') < 0}" @click="moveHandler(index, index - 1)"></i><i class="jz_transfer_icon_down" :class="{jz_transfer_icon_down_is_hidden: operations.indexOf(\'down\') < 0 || targetData.length == 1}" @click="moveHandler(index, index + 1)"></i><i class="jz_transfer_icon_del" :class="{jz_transfer_icon_del_is_hidden: operations.indexOf(\'del\') < 0}" @click="addToSource(item)"></i></div></li></draggable></ul></scrollbar-component></div></div></div>',props:{data:{type:Array},value:{type:Array,"default":function(){return[]}},keyAlias:{type:String,"default":"key"},labelAlias:{type:String,"default":"label"},hasAdd:{type:Boolean,"default":true},noDataLabel:{type:String,"default":"主人，赶紧添加产品吧"},noMatchLabel:{type:String,"default":"没有找到您搜索的文件"},filterLabel:{type:String,"default":"搜索产品"},member:{type:Number,validator:function(a){return a>=100},"default":10000},operations:{type:Array,"default":function(){return["up","down","del"]}},unSortable:Boolean},data:function(){return{query:"",batch:1}},computed:{mergeMode:function(){return Array.isArray(this.data[0])},totalData:function(){var b=this.data,a=this.mergeMode;return a?b.reduce(function(d,e,c){return d.concat(e)},[]):b},batchData:function(){var c=this.data,d=this.member,a=this.curBatch,b=this.mergeMode;return b?c.reduce(function(f,g,e){return f.concat(e<a?g:[])},[]):c.slice(0,d*a)},sourceData:function(){var e=this.value,d=this.query,b=this.keyAlias,f=this.labelAlias,c=this.batchData,a=this.totalData;return d.length>0?a.filter(function(i){var g=e.indexOf(i[b])>-1,h=(""+i[f]).indexOf(d)>-1;return !g&&h}):c.filter(function(h){var g=e.indexOf(h[b])>-1;return !g})},targetData:function(){var f=this.value,c=this.totalData,a=this.totalKeys;var e=[],d=null;for(var b=0;b<f.length;b++){d=c[a.indexOf(f[b])];if(typeof d!=="undefined"){e.push(d)}}return e},filterValue:function(){var a=this;return this.targetData.map(function(b){return b[a.keyAlias]})},totalKeys:function(){var b=this.keyAlias,a=this.totalData;return a.map(function(c){return c[b]})},curBatch:function(){var a=this.batch,b=this.maxBatch;return a>b?b:a},maxBatch:function(){var b=this.data,c=this.member,a=this.mergeMode;return a?b.length:Math.ceil(b.length/c)},canLoadBatch:function(){var b=this.curBatch,a=this.maxBatch,c=this.query;return !c.length&&(b<a)},isNoData:function(){return this.totalData.length===0},isNoMatch:function(){var b=this.query,a=this.sourceData;return b.length>0&&a.length===0},isEmpty:function(){var b=this.isNoData,a=this.isNoMatch;return b||a},emptyLabel:function(){var c=this.isNoData,b=this.isNoMatch,d=this.noDataLabel,a=this.noMatchLabel;return c?d:b?a:""},operationClasses:function(){var a={};a["is-has-add"]=this.hasAdd;return a},emptyClasses:function(){var a={};a["is-no-data"]=(this.isNoData&&this.hasAdd)&&!this.isNoMatch;a["is-no-match"]=!this.isNoData&&this.isNoMatch;return a},draggableOptions:function(){return{disabled:this.unSortable}}},methods:{clearQuery:function(){this.query=""},addToTarget:function(b){var a=this.value.concat(b[this.keyAlias]);this.$emit("input",a)},addToSource:function(c){var b=this.value.concat(),a=this.value.indexOf(c[this.keyAlias]);b.splice(a,1);this.$emit("input",b)},addClickHandler:function(){this.clearQuery();this.$emit("add-click")},moveHandler:function(e,d){var h=this.targetData,f=h[e]||{},g=h[d]||{};targetDataItemKeySource=f[this.keyAlias],targetDataItemKeyTarget=g[this.keyAlias];if(!targetDataItemKeySource||!targetDataItemKeyTarget){return}var c=this.value.concat(),a=c.indexOf(targetDataItemKeySource),b=c.indexOf(targetDataItemKeyTarget);if(a<0||b<0){return}c[a]=targetDataItemKeyTarget;c[b]=targetDataItemKeySource;this.$emit("input",c)},sortHandler:function(a){this.$emit("input",a)},scrollEndHandler:function(){this.canLoadBatch&&this.batch++}}})})();(function(){Vue.component("img-component",{name:"Img",template:'<div class="jz_img"><img class="jz_img_item" :src="src || defaultSrc"></div>',props:{src:String,defaultSrc:{type:String,"default":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="}}});Vue.component("editor-component",{name:"Editor",template:'<div class="jz_editor"><slot></slot><div class="jz_editor_layer"><i v-for="btnName in data" class="jz_editor_item" :class="\'jz_editor_\' + btnName" @click="clickItemHandler(btnName)"></i></div></div>',props:{data:{type:Array,"default":function(){return["del","update"]}}},methods:{clickItemHandler:function(d){this.$emit(d)}}});Vue.component("upload-component",{name:"Upload",template:'<div class="jz_upload" :class="[\'jz_upload_\' + size, {jz_upload_disabled: disabled}]" @click="clickUploadHandler"><div class="jz_upload_icon"></div><div class="jz_upload_label" v-if="size == \'large\'">{{label}}</div></div>',props:{disabled:Boolean,label:{type:String,"default":"点击添加图片"},size:{type:String,"default":"normal",validator:function(d){return vue_utils.oneOf(d,["mini","normal","large"])}}},methods:{clickUploadHandler:function(){if(this.disabled){return}this.$emit("upload")}}});var b=1;var c=78;var a=92;Vue.component("photo-list-component",{name:"PhotoList",props:{value:{type:Array,requied:true},viewLength:{type:Number,"default":4},pathAlias:{type:String,"default":"filePath"},slideToDirection:{type:String,"default":"last"},max:{type:Number,"default":Infinity},itemMargin:{type:Number,"default":15},uploadMargin:{type:Number,"default":15},noPhotoWidth:Number,prevLeft:{type:Number,"default":125},nextRight:{type:Number,"default":32}},data:function(){return{dragging:false,hoverIndex:-1,canLoad:false}},template:'<div class="jz-photo-list" :class="{\'is-no-photo\': noPhoto}" :style="photoListStyles"><div class="photo-list-wrap"><upload-component @upload="addHandler" class="jz_photo_list_upload" :style="uploadStyles" :size="noPhoto ? \'large\' : \'normal\'" :disabled="maxPhoto"></upload-component><gallery-component class="photo-list-view" v-if="!noPhoto" :wrap-width="galleryWrapWidth" :view-width="galleryViewWidth" :prev-left="prevLeft" :next-right="nextRight"><draggable class="photo-list-drag" :class="{\'is-dragging\': dragging}" :value="value" @input="dragHandler" @start="startDrag" @end="endDrag" :options="dragOpts"><div class="photo-list-item" v-for="(item, index) in value" :style="itemStyles" @mousemove="mousemoveHandler(index)" @mouseleave="mouseleaveHandler"><editor-component @del="delHandler(item)" @update="editHandler(item)" class="jz_photo_list_editor" :class="{jz_photo_list_editor_hover: index == hoverIndex}"><img-component v-if="(index < viewLength) || canLoad" :src="item[pathAlias]"></img-component></editor-component></div></draggable></gallery-component></div><div class="photo-list-label" v-if="value.length > viewLength">图片已上传{{value.length}}张</div></div>',computed:{noPhoto:function(){return this.value.length==0},maxPhoto:function(){return this.value.length>=this.max},uploadStyles:function(){return this.noPhoto?{margin:"5px 0 0",width:this.noPhotoWidth?(this.noPhotoWidth+"px"):""}:{margin:"5px "+this.uploadMargin/2+"px 0",width:c+"px"}},itemStyles:function(){return{width:a+"px",margin:"5px "+this.itemMargin/2+"px 0"}},photoListStyles:function(){return{width:this.galleryWrapWidth+b*this.uploadOuterWidth+"px"}},galleryWrapWidth:function(){return this.viewLength*this.itemOuterWidth},galleryViewWidth:function(){return this.value.length*this.itemOuterWidth},dragOpts:function(){return{draggable:".photo-list-item",forceFallback:true,filter:".jz_editor_item",scrollFn:this.scrollFn,preventOnFilter:false}},itemOuterWidth:function(){return a+this.itemMargin},uploadOuterWidth:function(){return c+this.uploadMargin}},created:function(){this.$on("added-photo",this.addedPhoto)},mounted:function(){if(document.readyState=="complete"){this.loadImgs()}else{vue_utils.on(window,"load",this.loadImgs)}},beforeDestroy:function(){vue_utils.off(window,"load",this.loadImgs)},methods:{loadImgs:function(){this.canLoad=true},addHandler:function(){if(this.maxPhoto){return}this.$emit("add-photo",this.addedPhoto)},delHandler:function(f){var e=this.value.slice(),d=e.indexOf(f);(d>-1)&&e.splice(d,1);this.$emit("input",e);this.$emit("del-photo",f)},dragHandler:function(d){this.$emit("input",d);this.$emit("drag-photo",d)},editHandler:function(d){this.$emit("edit-photo",d)},slideToPrev:function(){vue_utils.broadcast(this,"Gallery","slide-to-prev")},slideToNext:function(){vue_utils.broadcast(this,"Gallery","slide-to-next")},slideToFirst:function(){vue_utils.broadcast(this,"Gallery","slide-to-first")},slideToLast:function(){vue_utils.broadcast(this,"Gallery","slide-to-last")},addedPhoto:function(){!this.noPhoto&&this.$nextTick(this.slideToDirection=="last"?this.slideToLast:this.slideToFirst)},scrollFn:vue_utils.throttle(function(d){d<0&&this.slideToPrev();d>0&&this.slideToNext()},800),startDrag:function(){this.dragging=true},endDrag:function(){this.dragging=false},mousemoveHandler:function(d){if(this.dragging){return}if(this.hoverIndex==d){return}this.hoverIndex=d},mouseleaveHandler:function(){if(this.dragging){return}this.hoverIndex=-1}}})})();var tableMixin={methods:{alignCls:function(a,c){var c=c||{};var b="";var d={};if(c.cellClassName&&a.key&&c.cellClassName[a.key]){b=c.cellClassName[a.key]}if(a.multiLevel){d.pl40=true;d["j-multi-level"]=true}d[b]=!!b;d[a.className]=!!a.className;d[this.prefixCls+"-column-"+a.align]=!!a.align;return d},setCellWidth:function(c,a,d){var b="";if(c.width){b=c.width}else{if(this.columnsWidth[c._index]){b=this.columnsWidth[c._index].width}}if(this.columns.length===a+1&&d&&this.$parent.bodyHeight!==0&&!this.$parent.flexible){}if(b==="0"){b=""}return b}}};(function(){var a="jz-table";var b=0;var c=0;Vue.component("table-render-header",{name:"TableRenderHeader",functional:true,props:{render:Function,column:Object,index:Number},render:function(e,d){var f={column:d.props.column,index:d.props.index};return d.props.render(e,f,d)}});Vue.component("table-expand",{name:"TableExpand",functional:true,props:{row:Object,render:Function,index:Number,column:{type:Object,"default":null}},render:function(e,d){var f={row:d.props.row,index:d.props.index};if(d.props.column){f.column=d.props.column}return d.props.render(e,f,d)}});Vue.component("table-tr",{name:"TableTr",template:'<li :class="rowClasses(row._index)"><slot></slot></li>',props:{row:Object},data:function(){return{table:vue_utils.findComponentUpward(this,"Table")}},methods:{rowClasses:function(e){var d={};d[a+"-row"]=true;d[this.rowClsName(e)]=!!this.rowClsName(e);return d},rowClsName:function(d){return this.table.rowClsName(this.row,d)}}});Vue.component("table-cell",{name:"TableCell",template:'<div :class="classes" ref="cell"><template v-if="renderType === columnType.expand && !row._disableExpand"><div :class="expandCls" @click="toggleExpand"><i class="'+a+'-expand-right"></i></div></template><template v-if="renderType === columnType.index">{{ naturalIndex + 1 }}</template><template v-if="renderType === columnType.selection"><checkbox-component :true-value="true" :false-value="false" :value="checked" @click.native.stop="handleClick" @on-change="toggleSelect" :disabled="disabled"></checkbox-component></template><template v-if="renderType === columnType.radio"><radio-component :value="checked" label="" @click.native.stop="handleClick" @on-change="toggleRadio" :disabled="disabled"></radio-component></template><template v-if="renderType === columnType.html"><span v-html="row[column.key]"></span></template><template v-if="renderType === columnType.normal"><span>{{ row[column.key] }}</span></template><table-expand v-if="renderType === columnType.render" :row="row" :column="column" :index="index" :render="column.render"></table-expand><template v-if="renderType === columnType.sortable"><span class="jz-sort-body"><span v-if="row._fixed" style="cursor: default;">位置固定</span><template v-else><i @click="sortUp(level, index, levelKey)" v-if="upCondition" class="jz-sort-arrow-up"></i><i @click="sortDown(level, index, levelKey)" v-if="downCondition" class="jz-sort-arrow-down"></i><i @click="sortRight(level, index, levelKey)" v-if="rightCondition && multiLevel" class="jz-sort-arrow-right"></i><i @click="sortLeft(level, index, levelKey)" v-if="leftCondition && multiLevel" class="jz-sort-arrow-left"></i></template></span></template></div>',props:{prefixCls:String,multiLevel:Boolean,level:Number,levelKey:{type:String,"default":""},row:Object,column:Object,naturalIndex:Number,index:[String,Number],checked:Boolean,disabled:Boolean,expanded:Boolean,maxLength:Number},data:function(){return{renderType:"",table:vue_utils.findComponentUpward(this,"Table"),level1:1,level2:2,level3:3}},computed:{upCondition:function(){if(typeof this.table.objData[this.naturalIndex-1]!=="undefined"&&typeof this.table.objData[this.naturalIndex-1]._fixed!=="undefined"&&this.table.objData[this.naturalIndex-1]._fixed){return false}return this.naturalIndex!==0},downCondition:function(){if(typeof this.table.objData[this.naturalIndex+1]!=="undefined"&&typeof this.table.objData[this.naturalIndex+1]._fixed!=="undefined"&&this.table.objData[this.naturalIndex+1]._fixed){return false}return this.naturalIndex!==this.maxLength-1},rightCondition:function(){var d=this.row.children;if(this.level===this.level1&&this.index===0){return false}if(!!d&&d.length){if(this.level===this.level1){return !d.some(function(e){return !!e.children})}else{if(this.level===this.level2){return false}}}if(this.level===this.level3||this.index===0){return false}return true},leftCondition:function(){if(this.level===this.level2||this.level===this.level3){return true}return false},columnType:function(){var d={expand:"expand",index:"index",selection:"selection",radio:"radio",html:"html",normal:"normal",expand:"expand",render:"render",sortable:"sortable"};return d},classes:function(){var d={};d[this.prefixCls+"-cell"]=true;d[this.prefixCls+"-cell-ellipsis"]=this.column.ellipsis||false;return d},expandCls:function(){var d={};d[this.prefixCls+"-click"]=true;d[this.prefixCls+"-cell-expand"]=true;d[this.prefixCls+"-expand-expanded"]=!!this.expanded;return d}},methods:{toggleSelect:function(){this.table.toggleSelect(this.index)},toggleRadio:function(){this.table.toggleRadio(this.index)},toggleExpand:function(){this.table.toggleExpand(this.index)},handleClick:function(){},sortUp:function(f,d,e){if(f===1&&this.table.objData[d-1]._fixed){return}this.table.sortUp(f,this.index,e)},sortDown:function(f,d,e){if(f===1&&this.table.objData[d+1]._fixed){return}this.table.sortDown(f,this.index,e)},sortRight:function(f,d,e){this.table.sortRight(f,this.index,e)},sortLeft:function(f,d,e){this.table.sortLeft(f,this.index,e)}},created:function(){if(this.column.type==="index"){this.renderType="index"}else{if(this.column.type==="selection"){this.renderType="selection"}else{if(this.column.type==="radio"){this.renderType="radio"}else{if(this.column.type==="html"){this.renderType="html"}else{if(this.column.type==="expand"){this.renderType="expand"}else{if(this.column.type==="render"){this.renderType="render"}else{if(this.column.type==="sortable"){this.renderType="sortable"}else{if(this.column.type==="expand"){this.renderType="expand"}else{this.renderType="normal"}}}}}}}}}});Vue.component("table-head",{name:"TableHead",mixins:[tableMixin],template:'<table cellspacing="0" cellpadding="0" border="0" :style="styles"><colgroup><col v-for="(column, index) in columns" :width="setCellWidth(column, index, true)"></colgroup><thead><tr><th v-for="(column, index) in columns" :class="alignCls(column)"><div :class="cellClasses(column)"><template v-if="column.type === columnType.expand"><span v-if="!column.renderHeader">{{ column.title || "" }}</span><table-render-header v-else :render="column.renderHeader" :column="column" :index="index"></table-render-header></template><template v-else-if="column.type === columnType.selection"><checkbox-component :true-value="true" :false-value="false" :value="isSelectAll" @on-change="selectAll" :disabled="!data.length"></checkbox-component></template><template v-else-if="column.type === columnType.radio"><span>{{ column.title || "" }}</span></template><template v-else><span v-if="!column.renderHeader" @click="handleSortByHead(index)">{{ column.title }}</span><table-render-header v-else :render="column.renderHeader" :column="column" :index="index"></table-render-header><span class="'+a+'-head-sort" v-if="column.sortable"><i class="jz-sort-arrow-up" :class="sortStatus(column._sortType, sortType.asc)" @click="handleSort(index, sortType.asc)"></i><i class="jz-sort-arrow-down" :class="sortStatus(column._sortType, sortType.desc)" @click="handleSort(index, sortType.desc)"></i></span></template></div></th></tr></thead></table>',props:{prefixCls:String,styleObject:Object,columns:Array,objData:Object,data:Array,columnsWidth:Object,pageSize:Number,page:Number},data:function(){return{table:vue_utils.findComponentUpward(this,"Table")}},computed:{columnType:function(){var d={};d.expand="expand";d.selection="selection";d.radio="radio";return d},sortType:function(){var d={};d.asc="asc";d.desc="desc";return d},styles:function(){var e=Object.assign({},this.styleObject);var d=this.$parent.bodyHeight===0?parseInt(this.styleObject.width):parseInt(this.styleObject.width);if(this.table.flexible){e.width="100%"}else{e.width=d+"px"}return e},isSelectAll:function(){var f=true;var d=this.page!==-1?this.data.slice((this.page-1)*this.pageSize,this.page*this.pageSize):this.data;if(!d.length){f=false}if(!d.every(function(g){return !g._disabled})){f=false}for(var e=0;e<d.length;e++){if(!this.objData[d[e]._index]._isChecked&&!this.objData[d[e]._index]._isDisabled){f=false;break}}return f}},methods:{cellClasses:function(e){var d={};d[this.prefixCls+"-cell"]=true;d[this.prefixCls+"-selection"]=e.type===this.columnType.selection;return d},sortStatus:function(f,e){var d={};d.on=f===e;return d},selectAll:function(){var d=!this.isSelectAll;this.$parent.selectAll(d)},handleSort:function(d,e){if(this.columns[d]._sortType===e){e="normal"}this.$parent.handleSort(d,e)},handleSortByHead:function(d){var f=this.columns[d];if(f.sortable){var e=f._sortType;if(e==="normal"){this.handleSort(d,"asc")}else{if(e==="asc"){this.handleSort(d,"desc")}else{this.handleSort(d,"normal")}}}}}});Vue.component("table-body",{name:"TableBody",mixins:[tableMixin],template:'<div v-if="showTableBody" v-nestable="nestableData" :style="styleObject" :class="tableBodyClass"><ol class="'+a+'-dd-list"><template v-for="(row, firstIndex) in pageData"><table-tr :data-id="liKey(row._rowKey, row)" :row="row" :style="trStyle(firstIndex)" class="'+a+'-dd-item"><template v-if="!!row.children && multiLevel && row.children.length"><button data-action="collapse" class="dd-collapse" @click="collapse(row)" v-show="!row._collapsed"></button><button data-action="expand" class="dd-expand" @click="expand(row)" v-show="row._collapsed"></button></template><div :class="handleCls" :style="multiStyle(\'\')"><div class="'+a+'-td" :class="alignCls(column, row)" :style="columnWidth(column._width)" v-for="column in columns"><table-cell :multi-level="multiLevel" :level="1" :prefix-cls="prefixCls" :row="row" :key="column._columnKey" :column="column" :natural-index="firstIndex" :max-length="data.length" :index="row._index" :checked="rowChecked(row._index)" :disabled="rowDisabled(row._index)" :expanded="rowExpanded(row._index)"></table-cell></div></div><ol v-if="!!row.children && multiLevel && row.children.length" v-show="!row._collapsed" class="'+a+'-dd-list"><template v-if="!!row.children && multiLevel && row.children.length" v-for="(childRow, secondIndex) in row.children"><table-tr class="'+a+'-dd-item" :row="childRow" :data-id="liKeyLevel(childRow._levelKey, childRow)"><template v-if="!!childRow.children && multiLevel && childRow.children.length"><button data-action="collapse" class="dd-collapse" @click="collapse(childRow)" v-show="!childRow._collapsed"></button><button data-action="expand" class="dd-expand" @click="expand(childRow)" v-show="childRow._collapsed"></button></template><div :class="handleCls" :style="multiStyle(\'\', row._collapsed)"><div class="dd-fill-style" :style="multiStyle(\'fill\')"></div><div class="'+a+'-td" :class="alignCls(column, childRow)" :style="columnWidth(column._width)" v-for="column in columns"><table-cell :multi-level="multiLevel" :level="2" :levelKey="childRow._levelKey" :prefix-cls="prefixCls" :row="childRow" :key="column._columnKey" :column="column" :natural-index="secondIndex" :max-length="childRow._maxLength" :index="childRow._index"></table-cell></div></div><ol v-if="!!childRow.children && multiLevel && childRow.children.length && maxDepth === 3" v-show="!childRow._collapsed" class="'+a+'-dd-list"><template v-if="!!childRow.children && multiLevel && childRow.children.length" v-for="(grandsonRow, thirdIndex) in childRow.children"><table-tr class="'+a+'-dd-item" :row="grandsonRow" :data-id="liKeyLevel(grandsonRow._levelKey, grandsonRow)"><div :class="handleCls" :style="multiStyle(\'\', childRow._collapsed)"><div class="dd-fill-style" :style="multiStyle(\'fill\')"></div><div class="'+a+'-td" :class="alignCls(column, grandsonRow)" :style="columnWidth(column._width)" v-for="column in columns"><table-cell :multi-level="multiLevel" :level="3" :levelKey="grandsonRow._levelKey" :prefix-cls="prefixCls" :row="grandsonRow" :key="column._columnKey" :column="column" :natural-index="thirdIndex" :max-length="grandsonRow._maxLength" :index="grandsonRow._index"></table-cell></div></div></table-tr></template></ol></table-tr></template></ol></table-tr><table-tr :row="row" class="'+a+'-expand-row J-expand-row" v-if="rowExpanded(row._index)"><table-expand :key="row._rowKey" :row="row" :render="expandRender" :index="row._index"></table-expand></table-tr></template></ol></div>',props:{prefixCls:String,styleObject:Object,dragSortable:Boolean,multiLevel:Boolean,columns:Array,data:Array,objData:Object,columnsWidth:Object,pageSize:Number,page:Number,dragClass:String,maxDepth:Number},directives:{nestable:{bind:function(e,f,g){var d=g.context;$(e).nestable({group:0,maxDepth:d.multiLevel?d.maxDepth:1,dragClass:"jz-table-dragel "+d.dragClass,rootClass:"jz-table-dd",noDragClass:"dd-fill-style",listClass:"jz-table-dd-list",itemClass:"jz-table-dd-item",collapseBtnHTML:'<button data-action="collapse" class="dd-collapse"></button>',expandBtnHTML:'<button data-action="expand" class="dd-expand"></button>',dragSortable:d.dragSortable}).on("drag-change",function(h){(function i(j,l,k){l=l.split(".");while(l.length>1){j=j[l.shift()]}if(JSON.stringify(j.table.data)!==JSON.stringify(k)){j[l.shift()]=k}})(d,f.expression,$(e).nestable("serialize"))})},unbind:function(e,f,g){var d=g.context;if(!d.dragSortable){return}$(e).nestable("reset")}}},data:function(){return{multiLevelTdWidth:0,nestableData:[],showTableBody:true,table:vue_utils.findComponentUpward(this,"Table")}},computed:{pageData:function(){return this.page!==-1?this.data.slice((this.page-1)*this.pageSize,this.page*this.pageSize):this.data},handleCls:function(){var d={};d["dd-handle"]=true;d["dd-handle-layout"]=!!this.table.flexible;return d},tableBodyClass:function(){var d={};d[a+"-ol"]=true;d[a+"-dd"]=true;d.nestable=!!this.dragSortable;d["level-1"]=!this.multiLevel;return d},expandRender:function(){var f=function(){return""};for(var d=0;d<this.columns.length;d++){var e=this.columns[d];if(e.type&&e.type==="expand"){if(e.render){f=e.render}}}return f}},methods:{collapse:function(d){d._collapsed=true},expand:function(d){d._collapsed=false},liKey:function(d,f){var g=this;var e=vue_utils.deepCopy(f);delete e._index;delete e._level;delete e._rowKey;if(e.hasOwnProperty("children")){delete e.children}return JSON.stringify(e)},liKeyLevel:function(d,f){var e=vue_utils.deepCopy(f);delete e._levelKey;delete e._level;if(e.hasOwnProperty("children")){delete e.children}return JSON.stringify(e)},columnWidth:function(e){var d={};if(this.table.flexible){d.width=e}else{d.width=e+"px";d.maxWidth=e+"px"}return d},rowChecked:function(d){return this.objData[d]&&this.objData[d]._isChecked},rowDisabled:function(d){return this.objData[d]&&this.objData[d]._isDisabled},rowExpanded:function(d){return this.objData[d]&&this.objData[d]._isExpanded},trStyle:function(f,d){var e={};if(this.multiLevel){return e}if(f%2===1){e.background="#f8f9fb"}else{e.background="#fff"}return e},multiStyle:function(d,f){var e={};if(!this.multiLevel){return e}if(d!="fill"&&!f){b++}if(b%2===1){e.background="#fff"}else{e.background="#f8f9fb"}return e},adjustTdWidth:function(){var d=this;if(!d.multiLevel){return}this.$nextTick(function(){if(d.$el.nodeName!=="DIV"){return}var n=".jz-table-dd-list";var e=n+" "+n;var g=e+" "+n;var l=".jz-table-dd-item .j-multi-level";var p=d.$el.querySelectorAll(n);var o=d.$el.querySelectorAll(e);var m=d.$el.querySelectorAll(g);var f=d.$el.querySelectorAll(n+" "+l);var h=d.$el.querySelectorAll(e+" "+l);var k=d.$el.querySelectorAll(g+" "+l);var j=parseInt(vue_utils.getStyle(o[0],"padding-left"))||0;var i=parseInt(vue_utils.getStyle(m[0],"padding-left"))||0;vue_utils.setStyle(f,"width",d.multiLevelTdWidth+"px");vue_utils.setStyle(h,"width",(d.multiLevelTdWidth-j)+"px");vue_utils.setStyle(h,"max-width",(d.multiLevelTdWidth-j)+"px");vue_utils.setStyle(k,"width",(d.multiLevelTdWidth-j-i)+"px");vue_utils.setStyle(k,"max-width",(d.multiLevelTdWidth-j-i)+"px")})}},mounted:function(){var d=this;b=0;this.$nextTick(function(){d.multiLevelTdWidth=parseInt(vue_utils.getStyle(d.$el.querySelectorAll(".jz-table-dd-list .j-multi-level")[0],"width"))})},updated:function(){var d=this;b=0;this.adjustTdWidth();c&&this.table.$refs.scrollbar.scrollTo(c);setTimeout(function(){c=0})},watch:{nestableData:function(d){var e=this;c=this.table.$refs.scrollbar.$refs.wrap.scrollTop;this.showTableBody=false;this.$nextTick(function(){e.showTableBody=true});this.table.dragDataChange(this.nestableData)},dragSortable:function(){var d=this;this.showTableBody=false;this.$nextTick(function(){d.showTableBody=true})}}})}());(function(){var a="jz-table";var c=1;var b=1;Vue.component("table-component",{name:"Table",template:'<div :class="wrapClasses" :style="styles"><div class="'+a+'-title" v-if="showSlotHeader" ref="title"><slot name="header"></slot></div><div :class="classes"><div class="'+a+'-header" v-if="showHeader" ref="header"><table-head :page-size="pageSize" :page="page" :prefix-cls="prefixCls" :styleObject="tableStyle" :columns="cloneColumns" :obj-data="objData" :columns-width="columnsWidth" :data="rebuildData"></table-head></div><div class="'+a+'-body" :style="bodyStyle" ref="body" v-show="!((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"><scrollbar-component ref="scrollbar" theme="table"><table-body :max-depth="maxDepth" :page-size="pageSize" :dragClass="dragClass" :page="page" :drag-sortable="dragSortable" :multiLevel="multiLevel" v-if="!((!data || data.length === 0) || (!rebuildData || rebuildData.length === 0))" ref="tbody" :prefix-cls="prefixCls" :styleObject="tableStyle" :columns="cloneColumns" :data="rebuildData" :columns-width="columnsWidth" :obj-data="objData"></table-body></scrollbar-component><div v-if="loading" class="spin spin-fix"><div class="spin-main"><span class="spin-dot"></span></div></div></div><div class="'+a+'-tip" v-show="((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"><table :style="tableStyle" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td :style="{ height: bodyStyle.height }"><span v-html="localeNoDataText" v-if="!data || data.length === 0"></span><span v-html="localeNoFilteredDataText" v-else></span></td></tr></tbody></table></div></div><div class="'+a+'-footer" v-if="showSlotFooter" ref="footer"><slot name="footer"></slot></div></div>',props:{data:{type:Array,"default":function(){return[]}},columns:{type:Array,"default":function(){return[]}},dragSortable:{type:Boolean,"default":false},multiLevel:{type:Boolean,"default":false},showHeader:{type:Boolean,"default":true},noDataText:{type:String,"default":"表格无数据"},noFilteredDataText:{type:String,"default":"无匹配数据"},rowClassName:{type:Function,"default":function(){return""}},loading:{type:Boolean,"default":false},pageSize:{type:Number,"default":function(){return -1}},page:{type:Number,"default":function(){return -1}},width:[Number,String],height:[Number,String],dragClass:String,flexible:Boolean,maxDepth:{type:Number,"default":function(){return 3}}},data:function(){return{ready:false,tableWidth:0,bodyRealHeight:0,scrollBarWidth:vue_utils.scrollbarWidth(),prefixCls:a,showSlotHeader:true,showSlotFooter:true,bodyHeight:0,bodyRealHeight:0,columnsWidth:{},rebuildData:[],cloneColumns:this.makeColumns(),objData:this.makeObjData(),localeNoDataText:this.noDataText,localeNoFilteredDataText:this.noFilteredDataText}},computed:{wrapClasses:function(){var d={};d[a+"-wrapper"]=true;d[a+"-wrapper-hide"]=!this.ready;d[a+"-with-header"]=!!this.showSlotHeader;d[a+"-with-footer"]=!!this.showSlotFooter;return d},classes:function(){var d={};d[a]=true;d[a+"-with-fixed-top"]=!!this.height;return d},styles:function(){var d={};if(this.width){d.width=this.width+"px"}return d},tableStyle:function(){var e={};if(this.flexible){return e}if(this.tableWidth!==0){var d="";if(this.bodyHeight===0){d=this.tableWidth;e.width=d+"px"}else{if(this.bodyHeight>this.bodyRealHeight){d=this.tableWidth;e.width=d+"px"}else{d="auto";e.width=d}}}return e},bodyStyle:function(){var e={};if(this.bodyHeight!==0){var d=this.bodyHeight;e.height=d+"px"}return e}},methods:{fixedHeader:function(){var d=this;if(this.height){this.$nextTick(function(){var e=parseInt(vue_utils.getStyle(d.$refs.header,"height"))||0;d.bodyHeight=d.height-e})}else{this.bodyHeight=0}},rowClsName:function(e,d){return this.rowClassName(e,d)},handleResize:function(){var d=this;d.$nextTick(function(){if(!this.flexible){var e=!d.columns.some(function(f){return !f.width});if(e){d.tableWidth=d.columns.map(function(f){return f.width}).reduce(function(g,f){return g+f},0)}else{d.tableWidth=parseInt(vue_utils.getStyle(d.$el,"width"))-1}}d.columnsWidth={};if(!d.$refs.tbody){return}d.$nextTick(function(){var j={};if(d.data.length){var k=d.$refs.tbody.$el.querySelectorAll(".jz-table-ol li")[0].children;for(var f=0;f<k.length;f++){if(k[f].classList.contains("jz-table-td")){var h=d.cloneColumns[f];var g=parseInt(vue_utils.getStyle(k[f],"width"));if(h===undefined){continue}if(h.width){g=h.width}if(Number.isNaN(g)){continue}d.cloneColumns[f]._width=g;j[h._index]={width:g}}}d.columnsWidth=j}d.bodyRealHeight=parseInt(vue_utils.getStyle(d.$refs.tbody.$el,"height"))})})},makeColumns:function(){var e=vue_utils.deepCopy(this.columns);var d=[];e.forEach(function(g,f){g._index=f;g._columnKey=b++;g._width=g.width?g.width:"";g._sortType="normal";g._isFiltered=false;g._filterChecked=[];if("filteredValue" in g){g._filterChecked=g.filteredValue;g._isFiltered=true}if("sortType" in g){g._sortType=g.sortType}d.push(g)});return d},makeObjData:function(){var d={};this.data.forEach(function(g,f){var e=vue_utils.deepCopy(g);e._index=f;if(e._fixed){e._fixed=e._fixed}else{e._fixed=false}if(e._disabled){e._isDisabled=e._disabled}else{e._isDisabled=false}if(e._checked){e._isChecked=e._checked}else{e._isChecked=false}if(e._expanded){e._isExpanded=e._expanded}else{e._isExpanded=false}d[f]=e});return d},sortData:function(g,f,d){var h=this;var e=this.cloneColumns[d].key;g.sort(function(j,i){if(h.cloneColumns[d].sortMethod){return h.cloneColumns[d].sortMethod(j[e],i[e],f)}else{if(f==="asc"){return j[e]>i[e]?1:-1}else{if(f==="desc"){return j[e]<i[e]?1:-1}}}});return g},deleteUnrelatedAttr:function(){var e=this;var d=vue_utils.deepCopy(this.rebuildData);d.forEach(function(h,f){delete h._index;delete h._rowKey;delete h._levelKey;delete h._level;if(!e.dragSortable||!e.multiLevel){return}var g=h.children;if(!!g){if(!g.length){delete h.children}g.forEach(function(k,j){delete k._index;delete k._rowKey;delete k._levelKey;delete k._maxLength;delete k._level;var i=k.children;if(!!i){if(!i.length){delete k.children}i.forEach(function(m,l){delete m._index;delete m._rowKey;delete m._levelKey;delete m._maxLength;delete m._level})}})}});return d},sortUp:function(j,f,h){if(j===1){var g=this.rebuildData[f];this.rebuildData[f]=this.rebuildData[f-1];this.rebuildData[f-1]=g}else{if(j===2){var e=vue_utils.stringToIntArray(h.split("-"));var i=this.rebuildData[e[0]].children;var d=e[1];var g=i[d];i[d]=i[d-1];i[d-1]=g}else{if(j===3){var e=vue_utils.stringToIntArray(h.split("-"));var i=this.rebuildData[e[0]].children[e[1]].children;var d=e[2];var g=i[d];i[d]=i[d-1];i[d-1]=g}}}this.$emit("on-sort-up-click",f);this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},sortDown:function(j,f,h){if(j===1){var g=this.rebuildData[f];this.rebuildData[f]=this.rebuildData[f+1];this.rebuildData[f+1]=g}else{if(j===2){var e=vue_utils.stringToIntArray(h.split("-"));var i=this.rebuildData[e[0]].children;var d=e[1];var g=i[d];i[d]=i[d+1];i[d+1]=g}else{if(j===3){var e=vue_utils.stringToIntArray(h.split("-"));var i=this.rebuildData[e[0]].children[e[1]].children;var d=e[2];var g=i[d];i[d]=i[d+1];i[d+1]=g}}}this.$emit("on-sort-down-click",f);this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},sortRight:function(d,g,j){if(d===1){var h=this.rebuildData[g];var k=this.rebuildData[g-1];if(!!k.children){k.children.push(h)}else{k.children=[h]}this.rebuildData.splice(g,1)}else{if(d===2){var l=vue_utils.stringToIntArray(j.split("-"));var i=this.rebuildData[l[0]].children;var e=l[1];var f=i[e];var h=i[e-1];if(!!h.children){h.children.push(f);i.splice(e,1)}else{h.children=[f];i.splice(e,1)}}}this.$emit("on-sort-right-click",g);this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},sortLeft:function(j,f,h){if(j===2){var e=vue_utils.stringToIntArray(h.split("-"));var i=this.rebuildData[e[0]].children;var d=e[1];var g=i[d];i.splice(d,1);this.rebuildData.splice(e[0]+1,0,g)}else{if(j===3){var e=vue_utils.stringToIntArray(h.split("-"));var i=this.rebuildData[e[0]].children[e[1]].children;var d=e[2];var g=i[d];i.splice(d,1);this.rebuildData[e[0]].children.splice(e[1]+1,0,g)}}this.$emit("on-sort-right-click",f);this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},makeData:function(){var e=this;var d=vue_utils.deepCopy(this.data);d.forEach(function(i,f){i._index=f;i._rowKey=c++;i._level=1;if(e.multiLevel){i._collapsed=i._collapsed||false}if(!e.dragSortable||!e.multiLevel){return}var h=f;var g=i.children;if(!!g&&g.length){g.forEach(function(m,k){m._index=k;m._levelKey=h+"-"+k;m._maxLength=g.length;m._level=2;if(e.multiLevel){m._collapsed=m._collapsed||false}var l=k;var j=m.children;if(!!j&&j.length&&e.maxDepth===3){j.forEach(function(o,n){o._index=n;o._levelKey=h+"-"+l+"-"+n;o._maxLength=j.length;o._level=3})}})}});return d},makeDataWithFilter:function(){var e=this;var d=this.makeData();this.cloneColumns.forEach(function(f){return d=e.filterData(d,f)});return d},handleSort:function(d,f){this.cloneColumns.forEach(function(g){return g._sortType="normal"});var e=this.cloneColumns[d].key;if(f==="normal"){this.rebuildData=this.makeDataWithFilter()}else{this.rebuildData=this.sortData(this.rebuildData,f,d)}this.cloneColumns[d]._sortType=f;this.$emit("on-sort-head-change",{column:JSON.parse(JSON.stringify(this.columns[this.cloneColumns[d]._index])),key:e,order:f,data:this.deleteUnrelatedAttr()})},makeDataWithSort:function(){var f=this.makeData();var h="normal";var g=-1;var e=false;for(var d=0;d<this.cloneColumns.length;d++){if(this.cloneColumns[d]._sortType!=="normal"){h=this.cloneColumns[d]._sortType;g=d;e=this.cloneColumns[d].sortable==="custom";break}}if(h!=="normal"&&!e){f=this.sortData(f,h,g)}return f},makeDataWithSortAndFilter:function(){var e=this;var d=this.makeDataWithSort();this.cloneColumns.forEach(function(f){return d=e.filterData(d,f)});return d},filterData:function(e,d){var f=this;return e.filter(function(j){var g=!d._filterChecked.length;for(var h=0;h<d._filterChecked.length;h++){g=d.filterMethod(d._filterChecked[h],j);if(g){break}}return g})},toggleSelect:function(h){var g={};for(var e in this.objData){if(parseInt(e)===h){g=this.objData[e]}}var d=!g._isChecked;var f=this.getSelection();this.objData[h]._isChecked=d;this.$emit(d?"on-select":"on-select-cancel",f,JSON.parse(JSON.stringify(this.data[h])));this.$emit("on-selection-change",this.getSelection())},toggleRadio:function(g){var f={};for(var e in this.objData){if(parseInt(e)===g){this.objData[e]._isChecked=true}else{this.objData[e]._isChecked=false}}var d=this.getRadioSelection();this.$emit("on-radio-change",d)},getRadioSelection:function(){var g;var f={};for(var d in this.objData){if(this.objData[d]._isChecked){g=d;break}}var e=this.data[g];f.selected=e;f.selectedIndex=g;return JSON.parse(JSON.stringify(f))},getSelection:function(f){var d=[];var g={};for(var e in this.objData){if(this.objData[e]._isChecked){d.push(parseInt(e))}}var h=this.data.filter(function(j,i){return d.indexOf(i)>-1});g.selected=h;g.selectedIndex=d;return JSON.parse(JSON.stringify(g))},toggleExpand:function(h){var e=h;var g={};for(var f in this.objData){if(parseInt(f)===e){g=this.objData[f]}}var d=!g._isExpanded;this.objData[e]._isExpanded=d;this.$emit("on-expand",JSON.parse(JSON.stringify(this.data[e])),d)},selectAll:function(d){var f=this.page!==-1?this.rebuildData.slice((this.page-1)*this.pageSize,this.page*this.pageSize):this.rebuildData;for(var e=0;e<f.length;e++){if(this.objData[f[e]._index]._isDisabled){continue}else{this.objData[f[e]._index]._isChecked=d}}var g=this.getSelection();if(d){this.$emit("on-select-all",g)}else{this.$emit("on-select-all-cancel")}this.$emit("on-selection-change",g)},dragDataChange:function(d){this.$emit("on-drag-data-change",d)}},created:function(){this.showSlotHeader=this.$slots.header!==undefined;this.showSlotFooter=this.$slots.footer!==undefined;this.rebuildData=this.makeDataWithSortAndFilter()},mounted:function(){var d=this;d.handleResize();d.fixedHeader();d.$nextTick(function(){d.ready=true})},watch:{height:function(d){this.fixedHeader()},data:{handler:function(){c=1;var d=this.rebuildData.length;this.objData=this.makeObjData();this.rebuildData=this.makeDataWithSortAndFilter();this.handleResize();if(!d){this.fixedHeader()}},deep:true},columns:{handler:function(){b=1;this.cloneColumns=this.makeColumns();this.rebuildData=this.makeDataWithSortAndFilter();this.handleResize()},deep:true}}})}());(function(){Vue.component("tab-pane-component",{name:"JzTabPane",props:{label:String,hidden:Boolean,name:String},template:'<div class="jz-tab-pane" v-show="active"><slot></slot></div>',data:function(){return{index:null}},computed:{tabs:function(){return vue_utils.findComponentUpward(this,"JzTabs")},active:function(){return !this.hidden&&this.tabs.currentName===this.paneName},paneName:function(){return this.name||this.index}},mounted:function(){this.tabs.addPanes(this)}});var a={props:["label"],render:function(b){return b("div",this.label)}};Vue.component("tabs-component",{name:"JzTabs",components:{tabLabel:a},props:{value:{},type:{"default":"default"}},template:'<div :class="wrapClasses"><div class="tabs-header" v-resize="update"><div class="tabs-nav"><div class="tabs-item" :class="{\'tabs-item-active\': pane.active}" v-for="pane in panes" @click="clickTabHandler(pane.paneName)" v-show="!pane.hidden"><tab-label class="tabs-label" ref="tabs" :label="pane.$slots.label || pane.label"></tab-label></div></div><div class="tabs-bar" :style="barStyles"></div></div><div class="tabs-content"><scrollbar-component theme="tabs"><slot></slot></scrollbar-component><div class="tabs-footer"><slot name="footer"></slot></div></div></div>',data:function(){return{panes:[],currentName:this.value,barStyles:{}}},computed:{wrapClasses:function(){var b={};b["jz-tabs"]=true;b["jz-tabs-"+this.type]=true;return b}},watch:{currentName:function(b){this.$emit("input",b);this.update()},value:function(b){this.currentName=b}},methods:{addPanes:function(c){var b=this.$slots["default"].filter(function(d){return d.elm.nodeType===1&&/JzTabPane/.test(d.componentInstance.$options.name)}).indexOf(c.$vnode);c.index=b;this.panes.splice(b,0,c)},clickTabHandler:function(b){this.currentName=b},update:function(){if(!this.$refs.tabs){return}var c=this.$refs.tabs[this.panes.indexOf(this.panes.filter(function(f){return f.active})[0])];if(!c){return}var d=c.$el;if(!d){return}var e={"default":function(){this.barStyles={top:d.offsetTop+"px",height:d.offsetHeight+"px"}},frame:function(){this.barStyles={left:d.offsetLeft+"px",width:d.offsetWidth+"px"}},};var b=e[this.type];if(typeof b!=="function"){b=e["default"]}b.call(this)}},created:function(){!this.currentName&&(this.currentName=0)},mounted:function(){this.$nextTick(this.update)}})})();(function(){var a="jz-collapse";Vue.component("collapse-component",{name:"Collapse",template:'<div :class="classes"><slot></slot></div>',props:{value:{type:[Array,String]}},data:function(){return{currentValue:this.value}},computed:{classes:function(){return a}},mounted:function(){this.setActive()},methods:{setActive:function(){var b=this.getActiveKey();this.$children.forEach(function(f,d){var c=f.name||d.toString();var e=b.indexOf(c)>-1;f.isActive=e;f.index=d})},getActiveKey:function(){var c=this.currentValue||[];if(!Array.isArray(c)){c=[c]}for(var b=0;b<c.length;b++){c[b]=c[b].toString()}return c},toggle:function(e){var b=e.name.toString();var c=[];var f=this.getActiveKey();var d=f.indexOf(b);if(e.isActive){if(d>-1){f.splice(d,1)}}else{if(d<0){f.push(b)}}c=f;this.currentValue=c;this.$emit("input",c);this.$emit("on-change",c)}},watch:{value:function(b){this.currentValue=b},currentValue:function(){this.setActive()}}});Vue.component("collapse-item-component",{name:"CollapseItem",template:'<div :class="itemClasses"><span :class="headerClasses" @click="toggle"><i class="arrow-right"></i><slot></slot></span><collapse-transition-component><div :class="contentClasses" v-show="isActive"><div :class="boxClasses"><slot name="content"></slot></div></div></collapse-transition-component></div>',props:{name:{type:String}},data:function(){return{index:0,isActive:false}},computed:{itemClasses:function(){var b={};b[a+"-item"]=true;b[a+"-item-active"]=!!this.isActive;return b},headerClasses:function(){return a+"-header"},contentClasses:function(){return a+"-content"},boxClasses:function(){return a+"-content-box"}},methods:{toggle:function(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}}})}());
/*!
 * tag 组件
 */
(function(){var c="jz-tag";var b=118;var e=90;var f=105;var g=80;var d="点击添加分类";var a="点击添加标签";Vue.component("tag-component",{name:"Tag",template:'<div :class="classes"><select-component :isfixed="isfixed" v-if="renderSelect && type == \'product\'" class="tag-select" ref="select" is-tag :style="inputPattern" placement="bottom" filterable filterable-from-tag @on-change="handleChange"><template slot="input"><input-component v-if="!group" ref="input" class="tag-input" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><input-component v-if="group" ref="input" class="tag-input" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><div v-if="showTips && !group" @mousedown.prevent="handleMousedown" class="fill"><div class="fill-item"><i class="fill-img"></i><span>{{ fillText }}</span></div></div><i @click="handleDelete" :class="tagDeleteCls"></i></template><slot><select-item-component v-for="(item, index) in filteredData" is-tag :value="item" :key="item">{{ item }}</select-item-component></slot></select-component><template v-else-if="type == \'news\'"><i v-if="!group || index === 0" class="tag-img"></i><select-component :isfixed="isfixed" v-if="renderSelect" class="tag-select" ref="select" is-tag :style="inputPattern" placement="bottom" filterable filterable-from-tag @on-change="handleChange"><template slot="input"><input-component v-if="!group" ref="input" class="tag-input" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><input-component v-if="group" ref="input" class="tag-input" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><div v-if="showTips && !group" @mousedown.prevent="handleMousedown" class="fill"><div class="fill-item"><span>{{ fillText }}</span></div></div><i @click="handleDelete" :class="tagDeleteCls"></i></template><slot><select-item-component v-for="(item, index) in filteredData" is-tag :value="item" :key="item">{{ item }}</select-item-component></slot></select-component></template></div>',props:{value:{type:[String,Number],"default":""},data:{type:Array,"default":function(){return[]}},filterMethod:{type:[Function,Boolean],"default":false},label:[String,Number],index:Number,type:{type:String,"default":"product"},fillText:{type:String,"default":function(){if(this.type==="product"){return this.productTips}else{if(this.type==="news"){return this.newsTips}}}},isfixed:Boolean},data:function(){return{model:[],renderSelect:true,group:!!(vue_utils.findComponentUpward(this,"TagGroup")),focusStatus:false,valueStatus:false,productFocusWidth:e,productDefaultWidth:b,newsFocusWidth:g,newsDefaultWidth:f,parent:vue_utils.findComponentUpward(this,"TagGroup"),currentValue:!!(vue_utils.findComponentUpward(this,"TagGroup"))?this.label:this.value,showTips:false,productTips:d,newsTips:a}},computed:{foucsWidth:function(){if(this.type==="product"){return this.productFocusWidth}else{if(this.type==="news"){return this.newsFocusWidth}}},defaultWidth:function(){if(this.type==="product"){return this.productDefaultWidth}else{if(this.type==="news"){return this.newsDefaultWidth}}},inputPattern:function(){var i=this;var h="";if(this.type==="news"){h="height: 27px; border-radius: 15px;"}if(this.focusStatus||this.currentValue!==""){h+="width: "+this.foucsWidth+"px; text-align: center;"}else{h+="width: "+i.defaultWidth+"px; text-align: center;"}return h},classes:function(){var h={};h[c]=true;h[c+"-"+this.type]=true;return h},tagDeleteCls:function(){var h={};h["tag-delete"]=true;h.on=this.currentValue!==""&&!this.focusStatus;return h},filteredData:function(){var h=this;if(this.filterMethod){return this.data.filter(function(i){return this.filterMethod(this.currentValue,i)})}else{return this.data}}},methods:{handleMousedown:function(){var h=this;this.showTips=false;this.$nextTick(function(){h.$refs.input.focus();h.$refs.input.$el.click()})},handleChange:function(h){this.currentValue=h;this.$refs.select.model=h;this.$refs.input.blur();this.$emit("on-select",h)},handleFocus:function(){var h=this;this.focusStatus=true;this.$nextTick(function(){h.$refs.input.focus();h.$refs.select.visible=true})},handleBlur:function(){this.focusStatus=false;if(!this.valueStatus){return}this.$refs.select.visible=false;if(this.group){if(this.model.indexOf(this.currentValue)===-1){this.model[this.index]=this.currentValue;this.parent.change(this.model)}vue_utils.dispatch(this,"TagGroup","tag-blur",this.index)}else{this.$emit("on-blur",this.currentValue)}},handleEnter:function(){this.$refs.input.blur();this.$emit("on-enter",this.currentValue)},handleDelete:function(){if(this.group){vue_utils.dispatch(this,"TagGroup","tag-delete",this.currentValue)}else{this.currentValue="";this.$refs.select.model="";this.$emit("on-delete",this.currentValue)}},updateTagWidthAndTips:function(){var h=this.$refs.input.$el.querySelector("input");if(this.currentValue!==""||this.focusStatus){this.showTips=false;h.style.width=this.foucsWidth+"px"}else{this.showTips=true;h.style.width=this.defaultWidth+"px"}},focus:function(){this.$refs.input.focus();this.$refs.select.visible=true}},mounted:function(){this.$refs.select.model=this.currentValue;if(this.group){this.parent.updateModel(true);this.currentValue=this.label}this.updateTagWidthAndTips()},watch:{focusStatus:function(h){this.updateTagWidthAndTips()},showTips:function(h){var i=this;if(!this.group&&h){this.renderSelect=false;this.$nextTick(function(){i.renderSelect=true})}},value:function(h){this.currentValue=h},currentValue:function(h){this.valueStatus=true;this.$refs.select.query=h;this.updateTagWidthAndTips();if(!this.group){this.$emit("input",h);this.$emit("on-change",h)}if(this.group&&!this.focusStatus&&this.model.indexOf(h)===-1){this.model[this.index]=h;this.parent.change(this.model)}},filteredData:function(h){}}})}());
/*!
 * tag-group组件
 */
(function(){var c="jz-tag-group";var b=118;var e=105;var d="点击添加分类";var a="点击添加标签";Vue.component("tag-group-component",{name:"TagGroup",template:'<div :class="classes"><div class="tag-group-wrapper"><tag-component :isfixed="isfixed" :class="itemCls" :type="type" v-for="(item, index) in rebuildValue" :key="item" :index="index" :label="item" :data="data" :ref="refCls(index)"></tag-component><i v-if="renderAddTag" :class="addTagCls" @click="addTag"></i></div><div :class="tagCls" @mousedown.prevent="handleMousedown" v-if="showTips"><template v-if="type == \'product\'"><input-component ref="input" :pattern="inputPattern"></input-component><div class="fill"><div class="fill-item"><i class="fill-img"></i><span>{{ fillText }}</span></div></div></template><template v-else-if="type == \'news\'"><i class="tag-img"></i><input-component ref="input" :pattern="inputPattern"></input-component><div class="fill"><div class="fill-item"><span>{{ fillText }}</span></div></div></template></div></div>',props:{value:{type:Array,"default":function(){return[]}},data:{type:Array,"default":function(){return[]}},type:{type:String,"default":"product"},fillText:{type:String,"default":function(){if(this.type==="product"){return this.productTips}else{if(this.type==="news"){return this.newsTips}}}},isfixed:Boolean},data:function(){return{currentValue:this.value,showTips:false,rebuildValue:[],childrens:[],productDefaultWidth:b,newsDefaultWidth:e,renderAddTag:true,productTips:d,newsTips:a}},computed:{inputPattern:function(){var f="";if(this.type==="product"){f="width: "+this.productDefaultWidth+"px;"}else{if(this.type==="news"){f="width: "+this.newsDefaultWidth+"px;";f+="height: 27px; border-radius: 15px;"}}return f},classes:function(){var f={};f[c]=true;f.clearFix=true;return f},tagCls:function(){var f={};f["jz-tag"]=true;f["jz-tag-"+this.type]=true;return f},itemCls:function(){return c+"-item"},addTagCls:function(){var f={};f["tag-group-add-"+this.type]=true;return f}},mounted:function(){var f=this;if(!this.value.length){this.renderAddTag=false;this.showTips=true}this.$on("tag-delete",function(g){var h=this.rebuildValue.filter(function(i){return i!==g});f.$emit("input",h);f.$emit("on-change",h)});this.$on("tag-blur",function(g){var h=f.rebuildValue.length;if(f.rebuildValue[g]===""){f.rebuildValue.splice(h-1,1);f.$emit("input",f.rebuildValue);f.$emit("on-change",f.rebuildValue)}else{if(f.rebuildValue.indexOf(f.rebuildValue[g])!==-1){f.rebuildValue.splice(h);f.$emit("input",f.rebuildValue);f.$emit("on-change",f.rebuildValue)}}f.renderAddTag=true});this.updateModel(true)},created:function(){this.rebuildValue=JSON.parse(JSON.stringify(this.value))},methods:{refCls:function(f){return"tag"+(f+1)},handleMousedown:function(){var g=this;var f=0;this.showTips=false;this.rebuildValue.push("");this.rebuildValue.splice(this.rebuildValue.length);f=this.rebuildValue.length;this.$emit("input",this.rebuildValue);setTimeout(function(){g.$refs["tag"+f][0].focus();g.$refs["tag"+f][0].valueStatus=true},0)},addTag:function(){var g=this;var f=0;this.rebuildValue.push("");this.rebuildValue.splice(this.rebuildValue.length);f=this.rebuildValue.length;this.$emit("input",this.rebuildValue);this.renderAddTag=false;setTimeout(function(){g.$refs["tag"+f][0].handleMousedown();g.$refs["tag"+f][0].valueStatus=true},0)},updateModel:function(h){var g=this.value;var f=1;this.childrens=vue_utils.findComponentsDownward(this,"Tag");if(this.childrens){this.childrens.forEach(function(i){i.model=g;if(h){i.currentValue=i.label;i.group=true}})}},change:function(f){this.rebuildValue=f;this.rebuildValue.splice(this.rebuildValue.length);this.$emit("input",f);this.$emit("on-change",f)}},watch:{value:{handler:function(f){if(!f.length){this.renderAddTag=false;this.showTips=true}this.rebuildValue=JSON.parse(JSON.stringify(this.value));this.updateModel(true)}}}})}());
/*!
 * input组件
 * 页面插入：<input-number-component :value="String" :maxlength="Number" :readonly="readonly" :unit="String" :number="Boolean" :disabled="Boolean" icon="ClassName(String)" @click="callback"></input-number-component>
 * 可选参数：classes | id | pattern | value | maxlength | readonly | unit | number | disabled | placeholder | icon | @click

 * 
 * classes: String,  // 自定义类， 可以用来控制样式
 * type: String,	//包裹div类名
 * disabled: Boolean,	//是否禁用
 * value: [String, Number], // 当前值
 * unit: String,			//input数值 的单位
 * max: Number,  			//slider max val
 * min: Number,				//slider min val
 * width: Number,			//slider 滑条总宽度 默认 100
 * handleRadius: Number,	//滑条 圆点半径 默认5
 * step:Number				// 步进 默认1
 * 
 *
 * https://cn.vuejs.org/v2/guide/components.html#什么是组件？
 * Depends: vue.js
 */
(function(){var a="jz-slider";Vue.component("slider-component",{name:"Slider",template:"<div :class='wrapClasses'><div :class='\"slider-outer\" + (classes|| \"\")'><div :class='\"slider-base-line\" + (classes|| \"\")' :style='{width:width}'><div :class='\"slider-check-line\" + (classes|| \"\")' :style='checkLineStyle'></div><a :class='\"slider-handle\" + (classes|| \"\")' :style='handleStyle' @mousedown.stop='mouseDown($event)'></a></div></div><input-number-component :class='\"slider-input\" + (classes|| \"\")' :max='max' :min='min' :decimal='decimal' :nagative='nagative' :digitis='digitis' :unit='unit' :disabled='disabled' ref='silderInput' v-model.number='currentValue' @on-focus='inputFocus' @input='inputChange' @on-blur='inputBlur'></input-number-component></div>",props:{classes:String,type:String,disabled:Boolean,value:[String,Number],unit:String,max:Number,min:Number,width:Number,radius:Number,step:Number,decimal:Boolean,nagative:Boolean,unit:String,digitis:{type:Number,"default":0},},data:function(){return{currentValue:this.value,focusStatus:false,sliderWidth:this.width||100,handleRadius:this.radius||5,scale:this.width/(this.max-this.min),cacheVal:this.value}},methods:{inputFocus:function(){this.cacheVal=this.currentValue;this.$emit("on-start",this.currentValue)},inputChange:function(b){b=Number(b)||0;if(b>this.max||b<this.min){return}this.currentValue=b;if(b!==""){this.$emit("input",b);this.$emit("on-change",b);this.$emit("on-slide",b)}},inputBlur:function(){this.currentValue=Number(this.currentValue)||0;var b=this.protectVal(this.protectStepAdd(this.currentValue));if(b!=this.currentValue){this.currentValue=b;this.$emit("input",b);this.$emit("on-change",b)}this.$emit("on-stop",this.currentValue);if(this.cacheVal!=this.currentValue){this.$emit("on-undo",this.currentValue,this.cacheVal)}},mouseDown:function(e){var h=this,f=e.clientX,d=h.currentValue,g=document;this.cacheVal=this.currentValue;this.$emit("on-start",d);g.addEventListener("mousemove",c,false);function c(k){var j=k.clientX-f,i=j/h.scale;i=i-(i%h.step);h.currentValue=h.protectStepAdd(d+i);h.currentValue=h.protectVal(h.currentValue);h.$emit("input",h.currentValue);h.$emit("on-change",h.currentValue);h.$emit("on-slide",h.currentValue);g.addEventListener("mouseup",b,false)}function b(i){g.removeEventListener("mousemove",c);g.removeEventListener("mouseup",b);h.$emit("on-stop",h.currentValue);if(h.cacheVal!=h.currentValue){h.$emit("on-undo",h.currentValue,h.cacheVal)}}},protectVal:function(b){if(b>this.max){b=this.max}else{if(b<this.min){b=this.min}}return b},protectSliderStyle:function(b){if(b>this.sliderWidth-this.handleRadius){b=this.sliderWidth-this.handleRadius}else{if(b<0-this.handleRadius){b=0-this.handleRadius}}return b},protectStepAdd:function(d){var c=this.step.toString(),b=0;if(c.indexOf(".")>-1){b=c.split(".")[1].length}return Number((d).toFixed(b))}},computed:{wrapClasses:function(){var b={};b[a+"-wrapper"]=true;b[a+"-"+this.type]=!!this.type;return b},checkLineStyle:function(){var b=this.scale*(this.currentValue-this.min);b=this.protectSliderStyle(b);return{width:b+"px"}},handleStyle:function(){var b=this.scale*(this.currentValue-this.min)-this.handleRadius;b=this.protectSliderStyle(b);return{left:b+"px"}}},watch:{value:function(b){this.currentValue=b}}})}());(function(){Vue.component("select-column-component",{template:'<select-component :value="value" @input="inputHandler" placement="bottom" class="jz-select-column"><select-item-component v-for="(column, index) in data" :value="column[valueAlias]" :key="index"><div class="select-column" :class="\'select-column-level\' + column[levelAlias]"><i v-if="column[levelAlias] > 0" class="select-column-icon"></i><span class="select-column-text">{{column[labelAlias]}}</span></div></select-item-component></select-component>',props:{value:[String,Number],data:{type:Array,"default":function(){return[]}},levelAlias:{type:String,"default":"level"},valueAlias:{type:String,"default":"id"},labelAlias:{type:String,"default":"name"}},methods:{inputHandler:function(a){this.$emit("input",a)}}})})();(function(){Vue.component("color-bar-component",{name:"ColorBar",template:"<div class='jz_color_bar'><div class='jz_select_color jz_color_default' v-if='!hideDefault' @click='selectColor(defaultColor)' :class='{active:isDefaultColor}'><span>默</span></div><div class='jz_select_color' :style='{backgroundColor:color}' :class='[{active:isCurrentColor(color)&&color!==defaultColor}]' v-for='color in hexColorList' @click='selectColor(color)'></div><div class='jz_select_color jz_color_multicolor' v-if='!hideMulticolor' :class='{active:multicolorModel}' @click.stop='showColorPicker' ref='multicolor'></div></div>",props:{value:String,colorList:{type:Array,"default":function(){return["rgb(228, 57, 60)","rgb(237, 61, 161)","rgb(196, 0, 0)","rgb(255, 101, 55)","rgb(255, 192, 1)","rgb(74, 179, 68)","rgb(2, 178, 181)","rgb(7, 108, 224)","rgb(30, 80, 174)","rgb(0, 160, 233)","rgb(139, 14, 234)","rgb(43, 43, 43)",]}},defaultColor:String,hideDefault:Boolean,hideMulticolor:Boolean},computed:{multicolorModel:function(){var b=a(this.value);if(b===a(this.defaultColor)){return false}if(this.hexColorList.indexOf(b)!==-1){return false}return true},hexColorList:function(){return this.colorList.map(function(b){return a(b)})},isDefaultColor:function(){return this.isCurrentColor(a(this.defaultColor))}},methods:{selectColor:function(b){this.$emit("input",b)},isCurrentColor:function(b){return a(this.value)===b},showColorPicker:function(){var b=this;$(this.$refs.multicolor).css("background-color",this.value).faiColorPickerAlp({base:$(this.$refs.multicolor),target:$(this.$refs.multicolor),onchange:function(c){b.$emit("input",c)},advance:true,appendToWeb:false,showInTop:true,left:35,top:35})}},});function a(d){var h=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(/^(rgb|RGB)/.test(d)){var c=d.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");var b="#";for(var e=0;e<c.length;e++){var j=Number(c[e]).toString(16);if(j.length<2){j="0"+j}b+=j}if(b.length!==7){b=d}return b.toLocaleLowerCase()}else{if(h.test(d)){var g=d.replace(/#/,"").split("");if(g.length===6){return d.toLocaleLowerCase()}else{if(g.length===3){var f="#";for(var e=0;e<g.length;e+=1){f+=(g[e]+g[e])}return f.toLocaleLowerCase()}}}}return d.toLocaleLowerCase()}}());(function(){Vue.component("lock-ratio-component",{template:"<div class='jz_lock_ratio'><input-component class='width_input' @input='inputWidth' :value='width' number :maxlength='4' ref='width'></input-component><div @click='lockToggle' title='锁定宽高比' class='jz_lock_ratio_btn'><div :class='!unlocked?\"lock_ratio\":\"unlock_ratio\"'></div></div><input-component class='height_input' @input='inputHeight' :value='height' number :maxlength='4' ref='height'></input-component></div>",props:{width:Number,height:Number,minWidth:Number,maxWidth:Number,minHeight:Number,maxHeight:Number,unlocked:Boolean,},data:function(){return{ratio:this.width/this.height,input:""}},methods:{inputWidth:function(b){if(typeof b==="undefined"){b=this.maxWidth}if((b>this.maxWidth||b<this.minWidth)&&this.input==="width"&&b!==""){this.$emit("error:width")}if(!this.unlocked){var a=Math.ceil(b/this.ratio);this.$emit("update:height",isNaN(a)||!isFinite(a)?this.maxHeight:a)}this.$emit("update:width",b)},inputHeight:function(a){if(typeof a==="undefined"){a=this.maxWidth}if((a>this.maxHeight||a<this.minHeight)&&this.input==="height"&&a!==""){this.$emit("error:height")}if(!this.unlocked){var b=Math.ceil(a*this.ratio);this.$emit("update:width",isNaN(b)||!isFinite(b)?this.maxWidth:b)}this.$emit("update:height",a)},lockToggle:function(){this.$emit("update:unlocked",!this.unlocked);this.ratio=(this.width/this.height)||this.ratio}},mounted:function(){var a=this;this.$refs.width.$el.getElementsByTagName("input")[0].onfocus=function(){a.input="width"};this.$refs.height.$el.getElementsByTagName("input")[0].onfocus=function(){a.input="height"}}})}());(function(e,a){var b="jz-select";var d="无匹配数据";var c="请选择";var f="154";e.component("select-search-component",{name:"Select",template:'<div class="jz-select jz-select-single" :class="selectCls" v-clickoutside="clickOutSideHandler"><div class="jz-select-selection" @click="clickSelectionHandler" ref="reference"><span class="jz-select-placeholder" v-show="showPlaceholder">{{localePlaceholder}}</span><span class="jz-select-selected-value" v-show="!showPlaceholder">{{selectedSingle}}</span><i class="jz-select-arrow" :class="iconCls"></i></div><select-dropdown-component isfixed v-if="dropEnable" v-show="dropVisible" :placement="placement" ref="selectDropdown"><input-component class="jz_select_filterable_input" icon="jz-input-icon" v-model="query" @on-click-clear="clickClearHandler" ref="input"></input-component><scrollbar-component theme="select" ref="scrollbar"><ul v-show="notFound" class="jz-select-not-found"><li>{{localeNotFoundText}}</li></ul><ul v-show="!notFound" :style="dropdownListStyle" class="jz-select-dropdown-list"><li v-for="item in filterData" class="jz-select-item" :class="value === item[valueAlias] ? \'jz-select-item-selected\' : \'\'" @click.stop="selectHandler(item[valueAlias])" :key="item[valueAlias]">{{(item[preLabelAlias] || \'\') + item[labelAlias]}}</li></ul></scrollbar-component></select-dropdown-component></div>',props:{value:[String,Number],disabled:Boolean,placeholder:String,maxdropheight:String,notfoundtext:String,placement:{validator:function(g){return a.oneOf(g,["top","bottom"])},"default":"bottom"},data:{type:Array,"default":function(){return[]}},valueAlias:{type:String,"default":"value"},labelAlias:{type:String,"default":"label"},preLabelAlias:{type:String,"default":"preLabel"}},data:function(){return{query:"",visible:false,dropEnable:false,slideUping:false}},computed:{filterData:function(){var h=this.query,i=this.labelAlias,g=this.data;return h===""?g:g.filter(function(j){return(j[i]+"").indexOf(h)>-1})},selectCls:function(){return[this.disabled?(b+"-disabled"):""]},iconCls:function(){return[this.visible?(b+"-trigger-arrow"):""]},dropdownListStyle:function(){return{"max-height":(this.maxdropheight||f)+"px"}},localeNotFoundText:function(){return this.notfoundtext||d},notFound:function(){return this.filterData.length<1},localePlaceholder:function(){return this.placeholder||c},showPlaceholder:function(){return this.selectedSingle===""},dropVisible:function(){return this.dropEnable&&(this.visible||this.slideUping)},selectedSingle:function(){var k=this.data,j=this.value,l=this.valueAlias,h,g;for(g=0;g<k.length;g++){h=k[g];if(h[l]===j){return h[this.labelAlias]}}return""}},watch:{visible:function(g){var h=this;if(g){this.$nextTick(function(){a.slideDown(this.$refs.selectDropdown.$el,300,function(){h.$refs.scrollbar.$emit("update")});this.$refs.selectDropdown.$emit("on-update-popper")})}else{this.slideUping=true;a.slideUp(this.$refs.selectDropdown.$el,300,function(){h.$refs.scrollbar.$emit("update");h.slideUping=false});this.$refs.selectDropdown.$emit("on-destroy-popper");this.query=""}}},methods:{clickOutSideHandler:function(){this.visible=false},clickSelectionHandler:function(){if(!this.dropEnable){this.dropEnable=true}this.visible=!this.visible},clickClearHandler:function(){this.query=""},selectHandler:function(g){this.$emit("input",g);this.visible=false}}})}(window.Vue,window.vue_utils));